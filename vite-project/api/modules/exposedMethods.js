function _0x2f30(){const _0x1c0df7=['startDate','save','30LWxgrY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Dear\x20','35PZNswO','new','send','736389JXIpVN','../utils/errors',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20You\x20have\x20been\x20promoted\x20as\x20<i>','find','952731yzPkLw','\x0a\x20\x20\x20\x20\x20\x20MATCH\x20(n:','properties','./database','lifecycleRole','.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','error','all','144JUGbwR','_labelRef','\x27</i>\x20by\x20','notification','delete','calculatedNodes',',\x20a.','4638898UmPquJ','10wAwzMX','Lifecycle\x20role\x20\x27','data','message','uploadFileStream','role','1519936ZFxarq','1553670wZTFYB','user','./planningUpdater','{_id:\x27','exports','\x0a\x20\x20\x20\x20\x20\x20MATCH\x20\x20(u:user)-[:isMemberOf]->(g:Group)-[:isMemberOf]->(:Group)-[:accessRole]->(n\x20{\x20_id:\x20$_id\x20})\x0a\x20\x20\x20\x20\x20\x20WHERE\x20g.groupType\x20=\x20\x27role\x27\x20AND\x20g.name\x20=\x20$role\x0a\x20\x20\x20\x20\x20\x20RETURN\x20u\x0a\x20\x20\x20\x20','\x27})\x20SET\x20a.','\x27\x20not\x20found','number','runQuery','name','261012SmRmfw','_id','4538049gWxXZn','duration','forEach','</i>\x20for\x20<i>','map','MATCH\x20(a:','length','../helpers','push','datamodel','results','7TqYzOQ','4LlQRfq','runQueries',')\x0a\x20\x20\x20\x20WITH\x20reduce(output\x20=\x20[],\x20n\x20IN\x20nodes(direct)\x20|\x20output\x20+\x20n\x20)\x20as\x20nodeCollection\x20\x0a\x20\x20\x20\x20,reduce(output\x20=\x20[],\x20n\x20IN\x20relationships(direct)\x20|\x20output\x20+\x20n\x20)\x20as\x20relCollection\x0a\x20\x20\x20\x20UNWIND\x20nodeCollection\x20as\x20dirNodes\x0a\x20\x20\x20\x20UNWIND\x20relCollection\x20as\x20dirRels\x0a\x20\x20\x20\x20WITH\x20collect(DISTINCT\x20dirNodes)+collect(DISTINCT\x20dirRels)\x20as\x20results\x0a\x20\x20\x20\x20RETURN\x20results\x0a\x20\x20\x20\x20','get','duplicateS3File','_type','\x20{\x20_id:\x20$_id\x20})-[:revises*]->(revised)\x0a\x20\x20\x20\x20\x20\x20SET\x20revised._state\x20=\x20$state\x0a\x20\x20\x20\x20\x20\x20RETURN\x20revised\x0a\x20\x20\x20\x20','assignment','code','../middlewares/plmStandardsCypher','\x27\x20not\x20found\x20in\x20datamodel','../controllers/uploadController','updateProjectGraph','Lifecycle\x20Role\x20Assignment','Instanciation\x20\x27','instanciations'];_0x2f30=function(){return _0x1c0df7;};return _0x2f30();}function _0x680a(_0x4db50c,_0x21caf1){const _0x2f30a6=_0x2f30();return _0x680a=function(_0x680a30,_0x41fa72){_0x680a30=_0x680a30-0x93;let _0x40013d=_0x2f30a6[_0x680a30];return _0x40013d;},_0x680a(_0x4db50c,_0x21caf1);}const _0x42b899=_0x680a;(function(_0x1273bd,_0x5d70cf){const _0x35c615=_0x680a,_0x31b2e0=_0x1273bd();while(!![]){try{const _0x5b6e14=parseInt(_0x35c615(0xda))/0x1*(-parseInt(_0x35c615(0xcd))/0x2)+-parseInt(_0x35c615(0xcf))/0x3*(-parseInt(_0x35c615(0xdb))/0x4)+parseInt(_0x35c615(0xbb))/0x5*(-parseInt(_0x35c615(0xc2))/0x6)+-parseInt(_0x35c615(0xa4))/0x7*(-parseInt(_0x35c615(0xc1))/0x8)+-parseInt(_0x35c615(0xa7))/0x9*(-parseInt(_0x35c615(0xa2))/0xa)+parseInt(_0x35c615(0xba))/0xb+parseInt(_0x35c615(0xb3))/0xc*(-parseInt(_0x35c615(0xab))/0xd);if(_0x5b6e14===_0x5d70cf)break;else _0x31b2e0['push'](_0x31b2e0['shift']());}catch(_0x47c0fe){_0x31b2e0['push'](_0x31b2e0['shift']());}}}(_0x2f30,0xc7f04));const ProjectUpdater=require(_0x42b899(0xc4)),Helpers=require(_0x42b899(0xd6)),Database=require(_0x42b899(0xae)),uploadController=require(_0x42b899(0x9b)),plmStandardsCypher=require(_0x42b899(0x99)),{ganisterError}=require(_0x42b899(0xa8));function ExposedMethods(_0x4ce1f4){const _0x895d8f=_0x42f530=>{const _0x549e05=plmStandardsCypher['checkCADFileExt'](_0x42f530);return _0x549e05;},_0x273840=async(_0xaafdfb,_0x27e1f9)=>{const _0xfb68a0=_0x680a,_0x27181c=await plmStandardsCypher['uploadCADFileToCADExchanger'](_0xaafdfb,_0x27e1f9),_0x4bbf1c=_0x27181c['data']?.[_0xfb68a0(0xb1)];if(_0x4bbf1c)throw ganisterError(_0x27181c[_0xfb68a0(0xbd)][_0xfb68a0(0xbe)],_0x27181c[_0xfb68a0(0x98)]);return _0x27181c;},_0x60b2bb=async(_0x5467bc,_0x388904)=>{const _0x25ee2f=_0x680a,_0x65fe95=await uploadController[_0x25ee2f(0xbf)]({..._0x388904,'file':_0x5467bc});return _0x65fe95;},_0x3bbcf2=async _0x5b3822=>{const _0x2100a3=_0x680a;await uploadController[_0x2100a3(0x94)](_0x5b3822);},_0x4251e7=async _0x1b1bc1=>{const _0x1ed0e8=_0x680a,{dueDate:_0x38059a,startDate:_0x547a00}=_0x1b1bc1['properties'],_0x433ef9=parseInt((_0x38059a-_0x547a00)/0x5265c00+0x1,0xa),_0x4262e4=_0x1ed0e8(0xa0),_0x376b4d='dueDate',_0x4d6edf=_0x1ed0e8(0xd0),_0x31955a=_0x1ed0e8(0x97);_0x1b1bc1[_0x1ed0e8(0xad)][_0x1ed0e8(0xd0)]=_0x433ef9,await _0x1b1bc1['save']();const _0x1ee2fa='\x0a\x20\x20\x20\x20MATCH\x20direct\x20=\x20(change:'+_0x31955a+_0x1ed0e8(0xc5)+_0x1b1bc1[_0x1ed0e8(0xce)]+'\x27})<-[:hasPredecessor*]-(imp:'+_0x31955a+')-[:hasPredecessor*0..1]->(study:'+_0x31955a+_0x1ed0e8(0xdd),_0x1aa19b={'nodeId':_0x1b1bc1['_id']},_0x52b5a=await Database[_0x1ed0e8(0xcb)](_0x1ee2fa,_0x1aa19b),_0x230d88=_0x52b5a[0x0][_0x1ed0e8(0x93)](_0x1ed0e8(0xd9));if(_0x230d88[_0x1ed0e8(0xd5)]>0x0){const _0x57848a=new ProjectUpdater(_0x230d88,{'STARTPROP':_0x4262e4,'ENDPROP':_0x376b4d,'DURATIONPROP':_0x4d6edf});_0x57848a[_0x1ed0e8(0x9c)]();const _0x5f0de7=[];_0x57848a[_0x1ed0e8(0xb8)][_0x1ed0e8(0xd1)](_0x55ef9d=>{const _0x231edd=_0x1ed0e8,_0x100571=_0x231edd(0xd4)+_0x31955a+_0x231edd(0xc5)+_0x55ef9d[_0x231edd(0xad)]['_id']+_0x231edd(0xc8)+_0x4262e4+'='+_0x55ef9d[_0x231edd(0xad)][_0x4262e4]+_0x231edd(0xb9)+_0x376b4d+'='+_0x55ef9d[_0x231edd(0xad)][_0x376b4d];typeof _0x55ef9d[_0x231edd(0xad)][_0x4262e4]==='number'&&!Number['isNaN'](_0x55ef9d[_0x231edd(0xad)][_0x4262e4])&&typeof _0x55ef9d[_0x231edd(0xad)][_0x376b4d]===_0x231edd(0xca)&&!Number['isNaN'](_0x55ef9d[_0x231edd(0xad)][_0x376b4d])&&_0x5f0de7[_0x231edd(0xd7)]({'query':_0x100571});}),Database[_0x1ed0e8(0xdc)](_0x5f0de7);}return _0x1b1bc1;},_0x4bc6c7=async(_0x55bb10,_0x401e64)=>{const _0x1a0dfd=_0x680a,{_type:_0x35ea22,_id:_0x36bba5}=_0x55bb10,_0x55ad93=_0x1a0dfd(0xac)+_0x35ea22+_0x1a0dfd(0x96),_0x557443={'_id':_0x36bba5,'state':_0x401e64};await Database[_0x1a0dfd(0xcb)](_0x55ad93,_0x557443);},_0x31b216=async(_0x58f574,_0xe34b7a)=>{const _0x47266f=_0x680a,{_id:_0x508e93}=_0x58f574,_0x46b021=_0x47266f(0xc7),_0x575372={'_id':_0x508e93,'role':_0xe34b7a},_0x2c5e79=await Database[_0x47266f(0xcb)](_0x46b021,_0x575372),_0x567170=_0x2c5e79[_0x47266f(0xd3)](async _0x2c2a45=>{const _0x37dc52=_0x47266f,_0x376948=_0x2c2a45[_0x37dc52(0x93)]('u');await _0x4ce1f4[_0x37dc52(0xa5)](_0x376948);});return await Promise[_0x47266f(0xb2)](_0x567170),_0x567170;},_0x142b73=async(_0x21af26,_0x1e4778,_0x237a3f)=>{const _0x44fb06=_0x680a,_0x3c72f0=_0x21af26[_0x44fb06(0xc3)],_0x1d1367=await _0x4ce1f4[_0x44fb06(0xb2)]('accessRole',{'node':_0x21af26,'user':_0x3c72f0}),_0x5a257b=_0x1d1367[_0x44fb06(0xbd)],_0x385c4d=_0x5a257b[_0x44fb06(0xaa)](_0x294dcf=>_0x294dcf['source'][_0x44fb06(0xce)]===_0x1e4778[_0x44fb06(0xce)]);if(_0x385c4d)await _0x385c4d[_0x44fb06(0xb7)]();const _0x1ce199={'_type':'accessRole','properties':{'role':_0x237a3f},'source':_0x1e4778,'target':_0x21af26,'user':_0x3c72f0},_0x217f96=await _0x4ce1f4[_0x44fb06(0xa5)](_0x1ce199);await _0x217f96[_0x44fb06(0xa1)]();},_0x238bf=async(_0x50c063,_0x8c0744,_0xf4d9e)=>{const _0x5da0b5=_0x680a,_0x4c562b=_0x50c063['user'],{lifecycle:lifecycle={}}=_0x50c063['datamodel'],{roles:_0x5842f0}=lifecycle,_0x566436=_0x5842f0[_0x5da0b5(0xaa)](_0x4a0983=>_0x4a0983['name']===_0xf4d9e);if(!_0x566436)throw ganisterError(_0x5da0b5(0xbc)+_0xf4d9e+_0x5da0b5(0x9a),0x194);const _0x53d174=await _0x4ce1f4[_0x5da0b5(0xb2)](_0x5da0b5(0xaf),{'node':_0x50c063,'user':_0x4c562b}),_0x5bbb27=_0x53d174[_0x5da0b5(0xbd)],_0x45b514=_0x5bbb27['find'](_0x4ab759=>_0x4ab759[_0x5da0b5(0xad)][_0x5da0b5(0xc0)]===_0xf4d9e);if(_0x45b514)await _0x45b514[_0x5da0b5(0xb7)]();const _0x28af81={'_type':_0x5da0b5(0xaf),'properties':{'role':_0xf4d9e},'source':_0x50c063,'target':_0x8c0744,'user':_0x4c562b},_0xf0b49=await _0x4ce1f4[_0x5da0b5(0xa5)](_0x28af81);await _0xf0b49['save']();const {_id:_0x388d3e,email:_0x6b8cb5,_labelRef:_0x204182}=_0x8c0744[_0x5da0b5(0xad)];if(_0x4c562b?.['_id']!==_0x388d3e){const _0x4586ac=_0x4c562b?.['properties']?.[_0x5da0b5(0xb4)],_0x48f48f=_0x50c063[_0x5da0b5(0xad)]?.[_0x5da0b5(0xb4)]||_0x50c063['_id'];ganisterMail[_0x5da0b5(0xa6)]({'type':_0x5da0b5(0xb6),'to':_0x6b8cb5,'subject':_0x5da0b5(0x9d),'text':_0x5da0b5(0xa3)+_0x204182+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20You\x20have\x20been\x20promoted\x20as\x20<i>'+_0xf4d9e+'</i>\x20for\x20<i>'+_0x50c063[_0x5da0b5(0x95)]+'\x20\x27'+_0x48f48f+_0x5da0b5(0xb5)+_0x4586ac+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20','html':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Dear\x20'+_0x204182+_0x5da0b5(0xa9)+_0xf4d9e+_0x5da0b5(0xd2)+_0x50c063[_0x5da0b5(0x95)]+'\x20\x27'+_0x48f48f+_0x5da0b5(0xb5)+_0x4586ac+_0x5da0b5(0xb0)});}return _0xf0b49;},_0x3b8679=async(_0x42de77,_0xb2debb)=>{const _0x32282f=_0x680a,{user:_0x59559c}=_0x42de77,_0x57c221=_0x42de77['datamodel'][_0x32282f(0x9f)][_0x32282f(0xaa)](_0x2d78b9=>_0x2d78b9['name']===_0xb2debb);if(!_0x57c221)throw ganisterError(_0x32282f(0x9e)+_0xb2debb+_0x32282f(0xc9),0x194);const _0x76bf9f=await plmStandardsCypher['instanciateNode'](_0x59559c,_0x42de77[_0x32282f(0xd8)][_0x32282f(0xcc)],_0x42de77[_0x32282f(0xce)],_0x57c221['id']);if(_0x76bf9f['data'][_0x32282f(0xb1)])throw ganisterError(_0x76bf9f[_0x32282f(0xbd)][_0x32282f(0xbe)]);return _0x76bf9f['data'];};return{...Database,...Helpers,'checkCADFileExt':_0x895d8f,'uploadFileToCADExchanger':_0x273840,'uploadFile':_0x60b2bb,'duplicateFile':_0x3bbcf2,'updateAssignmentDates':_0x4251e7,'updateOldVersionsState':_0x4bc6c7,'getTeamRolePerson':_0x31b216,'setNodeAccessRole':_0x142b73,'setNodeLifecycleRole':_0x238bf,'instanciateNode':_0x3b8679};}module[_0x42b899(0xc6)]=ExposedMethods;