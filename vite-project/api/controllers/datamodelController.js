const _0x3f3011=_0x2525;(function(_0x4d81bc,_0x27e2d7){const _0xc1ea36=_0x2525,_0x3a13ef=_0x4d81bc();while(!![]){try{const _0x27d2cb=parseInt(_0xc1ea36(0x18c))/0x1*(-parseInt(_0xc1ea36(0x263))/0x2)+parseInt(_0xc1ea36(0x1ee))/0x3+-parseInt(_0xc1ea36(0x1ef))/0x4+-parseInt(_0xc1ea36(0x188))/0x5+-parseInt(_0xc1ea36(0x23a))/0x6+parseInt(_0xc1ea36(0x21b))/0x7+parseInt(_0xc1ea36(0x1f6))/0x8;if(_0x27d2cb===_0x27e2d7)break;else _0x3a13ef['push'](_0x3a13ef['shift']());}catch(_0x3998c0){_0x3a13ef['push'](_0x3a13ef['shift']());}}}(_0x5626,0x897e1));function _0x2525(_0x5d9034,_0x51c796){const _0x562676=_0x5626();return _0x2525=function(_0x2525f6,_0x5ecad0){_0x2525f6=_0x2525f6-0x15e;let _0x287520=_0x562676[_0x2525f6];return _0x287520;},_0x2525(_0x5d9034,_0x51c796);}const fs=require('fs'),_=require(_0x3f3011(0x1b4)),NODEU=require(_0x3f3011(0x269)),jsonpatch=require('fast-json-patch'),driver=require(_0x3f3011(0x24e))['db'],coreItems=require(_0x3f3011(0x197)),helpers=require(_0x3f3011(0x21f)),datamodelMethods=require(_0x3f3011(0x1a6)),CustomMethods=require('../modules/customMethods'),generateForm=require(_0x3f3011(0x1a9)),datamodelUtil=require(_0x3f3011(0x218)),plmStandardsCypher=require(_0x3f3011(0x1e3)),datamodelFolder=_0x3f3011(0x1dc),buildFolder=_0x3f3011(0x249),datamodelFile=buildFolder+'datamodel.json',{logAndReturn}=helpers,nodetypeinit={'name':'','package':'','elementType':'','versionnable':![],'promotionControlled':![],'ui':{'defaultThumbnail':_0x3f3011(0x1bc),'gridColumns':[],'tabs':[],'form':{'definition':{},'ng':{'schema':{},'form':[]}}},'lifecycle':{'states':[],'transitions':[],'roles':[]},'category':null,'configuration':![],'classification':[],'properties':[],'maidenName':{'elements':[],'separator':'\x20'},'actions':[]},packInit={'name':'','label':'','id':null,'dependencies':[]},nodeTypeLcTransitionInit={'from':'','to':'','preMethods':[],'postMethods':[]},nodeTypeLcStateInit={'name':'','label':'','start':![],'lockable':![],'owner':_0x3f3011(0x1d3)};function dmValidationError(_0x27c45d){const _0x17ffae=_0x3f3011;return{'error':!![],'title':_0x17ffae(0x1aa),'message':_0x27c45d[_0x17ffae(0x217)](_0x291303=>_0x291303['dataPath']+_0x17ffae(0x1ff)+_0x291303[_0x17ffae(0x184)]+'\x20'+_0x291303[_0x17ffae(0x1ec)])['join'](','),'errors':_0x27c45d};}function _0x5626(){const _0x109645=['A\x20relationship\x20with\x20the\x20same\x20linkName\x20already\x20exists.','Property\x20name\x20Error','methods','\x20doesn\x27t\x20exist\x20for\x20nodetype:\x20','nodetype\x20method\x20patched','buildNgSchema','\x27,\x20_id:\x20\x27PS_','label','relationships','directions','dm/nodetypes/','./build/','body','MATCH\x20(g:Group\x20{\x20name:\x20\x27Administrator\x27\x20})\x20CREATE\x20(p:PermissionSet\x20{\x20name:\x20\x27','\x27,\x20_createdOn:\x20','timestampHuman','../../config/config','Property\x20Name\x20cannot\x20begin\x20with\x20a\x20number','elementType','parse','\x22\x20}),\x20(g)-[:accessRole\x20{role:\x20\x27manager\x27,\x20canCreate:true,\x20_id:\x20\x27','deleteNodeGridColumn','type','utf8','Property\x20with\x20id:\x20','patchDatamodel','properties','updateNodeTypeLcState','mapping','Lifecycle\x20State\x20does\x20not\x20exist','slice','Lifecycle\x20Role\x20does\x20not\x20exist','tabs','catch','dm/reports/','buildNGForm','listSource','14pUyKsh','MATCH\x20(nodes:','_stats','/*\x0a\x20\x20This\x20function\x20is\x20async\x20and\x20has\x20the\x20following\x20arguments:\x0a\x20\x20{\x0a\x20\x20\x20\x20data:\x20{},\x0a\x20\x20\x20\x20trigger:\x20\x27\x27,\x0a\x20\x20\x20\x20params:\x20{},\x0a\x20\x20\x20\x20PLM:\x20module,\x0a\x20\x20\x20\x20DataService:\x20class,\x0a\x20\x20}\x0a\x0a\x20\x20\x27data\x27\x20content\x20depends\x20on\x20selected\x20trigger\x20(see\x20documentation\x20http://localhost:8008/help/tech/)\x0a\x0a\x20\x20If\x20the\x20triggered\x20process\x20had\x20to\x20fail\x20if\x20this\x20method\x27s\x20execution\x20fails,\x20the\x20error\x20has\x20to\x20be\x20thrown.\x0a\x20\x20If\x20the\x20triggered\x20process\x20should\x20continue\x20even\x20if\x20this\x20method\x27s\x20execution\x20fail,\x20the\x20error\x20has\x20to\x20be\x20simply\x20returned.\x0a\x20\x20ganisterError(string,\x20statusCode)\x20function\x20should\x20be\x20used\x20instead\x20of\x20Error\x20object,\x20as\x20it\x20can\x20have\x20a\x20statusCode\x20as\x20a\x20second\x20argument.\x0a\x0a\x20\x20Method\x20name\x20:\x20','Nodetype\x20with\x20id:\x20','replace','uuid','now','lockable','oPath','Instanciation\x20with\x20id:\x20','lockLinked','Lifecycle\x20Transition\x20does\x20not\x20exist','\x20{_state:\x20$stateUpdateName})\x20SET\x20nodes._lockable\x20=\x20','attachMode','uigc_','primary','visitor','actions','trans_','write','updatedOn','state_','Manager','server','rel','ui.form.ng','description','metadata\x20patched','instanciations','reject','generate','undirectedRelationship','tab\x20deleted','isEqual','tab_','col_','Cannot\x20Update\x20Nodes\x20Lockable\x20State','order','draft','nodetypes','Lifecycle\x20State\x20with\x20ID:\x20','Property\x20name\x20already\x20exists','string','updateNodeTypeLcTransition','dm/methods/','state\x20deleted','Schema\x20Validation\x20Error','records','down','items','counters','form','getDate','assign','deleteLovs','Draft','toUpperCase','dependencies','valid','keyword','padStart','List\x20of\x20Values\x20with\x20id:\x20','role_','544360VCwhqz','keys','states','Column\x20with\x20ID:\x20','136937dOpJjr','get','\x20does\x20not\x20exist','\x20=\x20','Instanciation\x20does\x20not\x20exist','all','\x20does\x20not\x20exist\x20for\x20nodetype:\x20','transition\x20updated','existsSync','detail','readFileSync','../models/coreItems','updateNodeTypeLcRole','Body\x20should\x20be\x20an\x20array\x20or\x20object','Core\x20Property\x20is\x20not\x20allowed\x20to\x20be\x20removed','ntm_','ui.form.labelCase','addReport','leftPanelCategories','gridColumns','deleteNodeTypeMethod','roles','ganister','No\x20Lifecycles\x20exists\x20for\x20nodetype:\x20','push','addLovs','../middlewares/datamodelMethods','addMethod','Property\x20does\x20not\x20exist','../utils/generateForm','Datamodel\x20Validation\x20Error','updateNodesStateConfig','report_','Action\x20with\x20id:\x20','removeNodeTypeTab','leftPanelCategories.json','transitions','List\x20of\x20Values\x20does\x20not\x20exist','buildInfoDataForm','core','lodash','deleteNodeTypeAction','validFor','session','index','addNodeTypeAction','oContent','role\x20updated','images/defaultLogo.png','externalAPIs','package','updateReport','deleteNodeTypeLcTransition','deleteNodeTypeProperty','send','splice','Missing\x20Name','updatedBy','datamodel','length','updateCodificationCounter','Could\x20not\x20retrieve\x20nodetype:\x20','Action\x20does\x20not\x20exist','timestamp','then','schemas/','Cannot\x20parse\x20datamodel\x20file','lifecycle','manager','reverseGridColumns','Lifecycle\x20Transition\x20with\x20ID:\x20','none','.js','Report\x20with\x20id:\x20','join','relationship','Package\x20cannot\x20be\x20removed\x20because\x20nodetypes\x20or\x20relationships\x20for\x20this\x20package\x20still\x20exist','packages','Lifecycle\x20Role\x20with\x20ID:\x20','method','./api/models/','Method\x20with\x20id:\x20','json','target','datamodelController.js','A\x20method\x20name\x20MUST\x20be\x20provided','nodetype\x20deleted','../middlewares/plmStandardsCypher','unlinkSync','Latest\x20Restart\x20Trigger:\x20','updateNodeTypeTab','object','property','mergeFilesIntoDatamodel','exports','\x22]\x0a\x20\x20\x20\x20\x20\x20RETURN\x0a\x20\x20\x20\x20\x20\x20\x20\x20n','message','omit','1142037yIdyvt','1926832TleNtz','\x27}]->(p)','move','set','isInteger','Name\x20is\x20required','error','8918720RWnneC','enabled','instanciation','readFile','MATCH\x20(codification:Ganister\x20{\x20type:\x20\x22codification\x22\x20})\x20SET\x20codification.','cardinality','dm/packages.json','property\x20patched',')\x0a\x20\x20Created\x20by\x20\x20:\x20',':\x20Its\x20','merge','added\x20a\x20new\x20state','name','deleteNodeTypeLcRole','close','Nodetype\x20does\x20not\x20exist','Not\x20allowed!\x20Please\x20provide\x20a\x20valid\x20token','linkname','gridColumn','stringify','codification','updateMethod','charAt','writeFileSync','\x0a\x20\x20Description\x20:\x20\x0a\x20\x20---------------------------------------------------------------------------------------------------\x0a*/\x0a\x0atry\x20{\x0a\x0a}\x20catch\x20(error)\x20{\x0a\x0a}\x0a','property\x20deleted','reports','code','action_','forEach','datamodelChange.json','isArray','Package\x20not\x20found','map','../utils/datamodelUtil','params','lovs_','4751768ZHAxmf','Tab\x20does\x20not\x20exist','updateNodeTypeProperty','Datamodel\x20Error','../helpers/controllerHelpers','includes','status','.json','run','\x20nodetype\x20is\x20not\x20allowed\x20to\x20be\x20removed','addNodeTypeProperty','Permission\x20Set\x20creation\x20for\x20the\x20new\x20nodetype\x20failed','nt_','deleteReport','node','\x0a\x20\x20\x20\x20\x20\x20MATCH\x0a\x20\x20\x20\x20\x20\x20\x20\x20(n:','ui.form.definition','listOfValues','\x20RETURN\x20codification','getMonth','nodetypeDefinitions','Column\x20does\x20not\x20exist','getFullYear','Tab\x20with\x20ID:\x20','column\x20deleted','from','Method\x20does\x20not\x20exist','applyPatch','filter','findIndex','instanceName','372210VYAMfD','find','_id','Update\x20Codification\x20Counter\x20Error'];_0x5626=function(){return _0x109645;};return _0x5626();}function validateDatamodelSchema(_0x6dc53a){return{'datamodel':_0x6dc53a,'valid':!![]};}Array['prototype'][_0x3f3011(0x1f1)]=function(_0x4b965e,_0x3d1906){const _0x4bc2cf=_0x3f3011;if(_0x3d1906>=this[_0x4bc2cf(0x1c7)])return this;return this['splice'](_0x3d1906,0x0,this[_0x4bc2cf(0x1c3)](_0x4b965e,0x1)[0x0]),this;},module[_0x3f3011(0x1ea)]={'readDatamodel':(_0x550b23,_0x11a41a)=>{const _0x37ff18=_0x3f3011,_0x569a1b=fs[_0x37ff18(0x196)](datamodelFile,_0x37ff18(0x255)),_0x5700db=JSON[_0x37ff18(0x251)](_0x569a1b);return _0x11a41a[_0x37ff18(0x221)](0xc8)[_0x37ff18(0x1de)]({'instanceName':_0x5700db[_0x37ff18(0x239)],'instanceType':_0x5700db['instanceType'],'categories':_0x5700db[_0x37ff18(0x19e)],'nodetypes':_0x5700db['nodetypeDefinitions'],'methods':_0x5700db[_0x37ff18(0x240)],'listOfValues':_0x5700db[_0x37ff18(0x22c)],'packages':_0x5700db[_0x37ff18(0x1d9)],'reports':_0x5700db['reports'],'uxConfig':_0x5700db['uxConfig']});},'addPackage':(_0x3abfe4,_0x5a5444)=>{const _0x2c9bbc=_0x3f3011,{packname:_0x14848f}=_0x3abfe4[_0x2c9bbc(0x24a)];fs[_0x2c9bbc(0x1f9)](datamodelFile,{'encoding':_0x2c9bbc(0x255)},(_0x41b032,_0x2e42de)=>{const _0x3b1453=_0x2c9bbc;if(_0x41b032)throw _0x41b032;const _0x2bfa73=JSON[_0x3b1453(0x251)](_0x2e42de),{packages:_0x5407a2}=_0x2bfa73;if(_0x5407a2[_0x3b1453(0x23b)](_0x80fbe4=>_0x80fbe4[_0x3b1453(0x202)]===_0x14848f))return _0x5a5444['status'](0x193)[_0x3b1453(0x1de)]({'message':'Package\x20with\x20this\x20name\x20already\x20exists'});const _0x37d94c=_0x14848f['split']('\x20'),_0x3adef9=_0x37d94c[_0x3b1453(0x217)](_0x146dd6=>{const _0x5010b2=_0x3b1453;return _0x146dd6['charAt'](0x0)[_0x5010b2(0x181)]()+_0x146dd6[_0x5010b2(0x25c)](0x1);})['join']('\x20'),_0x5d4fad=_0x37d94c['map'](_0x41af96=>{const _0x48e351=_0x3b1453;return _0x41af96[_0x48e351(0x20c)](0x0);})[_0x3b1453(0x1d6)](''),_0x217673=packInit;_0x217673[_0x3b1453(0x202)]=_0x14848f,_0x217673['label']=_0x3adef9,_0x217673['id']=_0x5d4fad+(_0x5407a2['length']+0x1),_0x5407a2['push'](_0x217673),datamodelUtil[_0x3b1453(0x277)](_0x2bfa73,()=>{const _0x22c0a5=_0x3b1453;_0x5a5444['status'](0xc8)[_0x22c0a5(0x1de)]({'package':_[_0x22c0a5(0x23b)](_0x2bfa73[_0x22c0a5(0x1d9)],{'id':_0x217673['id']})});},_0x192d44=>_0x5a5444[_0x3b1453(0x221)](0x1f4)[_0x3b1453(0x1c2)](dmValidationError(_0x192d44)),{'section':_0x3b1453(0x1d9)});});},'deletePackage':(_0x2a5a15,_0x26d317)=>{const _0x51393d=_0x3f3011,{params:{id:_0x506664}}=_0x2a5a15,_0x48cc0c=_0x506664,{packages:_0x4ff09a,nodetypeDefinitions:_0x2f9beb}=global['datamodel'],_0x34b5f1=_0x4ff09a[_0x51393d(0x23b)](_0x27e662=>_0x27e662['id']===_0x48cc0c);if(!_0x34b5f1)return _0x26d317[_0x51393d(0x221)](0x194)[_0x51393d(0x1c2)](_0x51393d(0x216));const _0x128354=_0x2f9beb[_0x51393d(0x23b)](_0x180935=>_0x180935[_0x51393d(0x1be)]===_0x34b5f1['name']);if(_0x128354)return _0x26d317['status'](0x193)['send'](_0x51393d(0x1d8));const _0xd85f90=_0x4ff09a['filter'](_0x3ef174=>_0x3ef174['id']!==_0x48cc0c);global[_0x51393d(0x1c6)]['packages']=_0xd85f90,datamodelUtil[_0x51393d(0x277)](global[_0x51393d(0x1c6)],()=>_0x26d317[_0x51393d(0x221)](0xc8)[_0x51393d(0x1de)](),_0x36492c=>_0x26d317[_0x51393d(0x221)](0x1f4)[_0x51393d(0x1c2)](dmValidationError(_0x36492c)),{'section':_0x51393d(0x1d9)});},'restartServer':(_0x23fcca,_0x3ba90d)=>{const _0x1e888f=_0x3f3011;try{fs[_0x1e888f(0x20d)](_0x1e888f(0x214),_0x1e888f(0x1e5)+Date[_0x1e888f(0x26a)](),{'encoding':_0x1e888f(0x255)});}catch(_0x414b7f){return _0x3ba90d[_0x1e888f(0x221)](0x1f4);}return _0x3ba90d[_0x1e888f(0x221)](0xc8)[_0x1e888f(0x1de)]('ok');},'addNodetype':(_0x31c380,_0x442872)=>{const _0x11e821=_0x3f3011,{params:{nodetype:_0x1aa7a7}}=_0x31c380,{body:{typeDefinition:_0x1ee5e1}}=_0x31c380,{user:_0x56139b}=_0x31c380;fs[_0x11e821(0x1f9)](datamodelFile,{'encoding':_0x11e821(0x255)},async(_0x489c9a,_0x3dbdba)=>{const _0x1760ea=_0x11e821;if(_0x489c9a)throw _0x489c9a;const _0x27dcf3=JSON[_0x1760ea(0x251)](_0x3dbdba),_0x562226=_0x27dcf3[_0x1760ea(0x22f)];if(_0x562226[_0x1760ea(0x23b)](_0x2efada=>_0x2efada[_0x1760ea(0x202)]===_0x1aa7a7))return _0x442872[_0x1760ea(0x221)](0x193)[_0x1760ea(0x1de)]({'message':'Nodetype\x20with\x20this\x20name\x20already\x20exists'});const _0x4ad0e1=nodetypeinit;_0x4ad0e1[_0x1760ea(0x202)]=_0x1aa7a7,_0x4ad0e1['id']=_0x1760ea(0x227)+NODEU['v1'](),_0x4ad0e1[_0x1760ea(0x1be)]=_0x1ee5e1[_0x1760ea(0x1be)],_0x4ad0e1[_0x1760ea(0x250)]=_0x1ee5e1['elementType'];if(_0x4ad0e1['elementType']===_0x1760ea(0x1d7)){const _0x14b9eb=_0x562226[_0x1760ea(0x23b)](_0x10ed81=>_0x10ed81['linkName']===_0x1ee5e1['rel'][_0x1760ea(0x207)]);if(_0x14b9eb)return _0x442872['status'](0x1f4)[_0x1760ea(0x1de)]({'message':_0x1760ea(0x23e)});_0x4ad0e1[_0x1760ea(0x247)]=[{'source':_0x1ee5e1[_0x1760ea(0x161)]['source'],'target':_0x1ee5e1[_0x1760ea(0x161)][_0x1760ea(0x1df)]}],_0x4ad0e1['linkName']=_0x1ee5e1[_0x1760ea(0x161)][_0x1760ea(0x207)][_0x1760ea(0x268)](/[^A-Z0-9]/ig,''),_0x4ad0e1['cardinality']=_0x1ee5e1[_0x1760ea(0x161)][_0x1760ea(0x1fb)],_0x4ad0e1[_0x1760ea(0x26e)]=!![],_0x4ad0e1[_0x1760ea(0x168)]=_0x1ee5e1[_0x1760ea(0x168)],_0x4ad0e1['undirectedRelationship']&&(_0x4ad0e1['ui']['reverseGridColumns']=[]);}if(_0x4ad0e1[_0x1760ea(0x250)]!==_0x1760ea(0x1d7)){const _0x46337b={'id':_0x1760ea(0x187)+NODEU['v1'](),'name':_0x1760ea(0x1d0),'label':_0x1760ea(0x15f)};_0x4ad0e1['lifecycle'][_0x1760ea(0x1a1)][_0x1760ea(0x1a4)](_0x46337b),_0x4ad0e1[_0x1760ea(0x1cf)][_0x1760ea(0x18a)][_0x1760ea(0x1a4)]({'id':'state_'+NODEU['v1'](),'name':_0x1760ea(0x16f),'label':_0x1760ea(0x180),'start':!![],'lockable':!![],'owner':_0x46337b['id'],'ui_color':_0x1760ea(0x273)});const _0x3b20ee=NODEU['v1'](),_0x8db2a4=driver['session'](),_0x418474=await _0x8db2a4[_0x1760ea(0x223)](_0x1760ea(0x24b)+_0x4ad0e1[_0x1760ea(0x202)]+_0x1760ea(0x244)+NODEU['v1']()+_0x1760ea(0x24c)+Date[_0x1760ea(0x26a)]()+',\x20_createdBy:\x20\x22'+_0x56139b[_0x1760ea(0x23c)]+_0x1760ea(0x252)+_0x3b20ee+_0x1760ea(0x1f0));if(!_0x418474['summary'][_0x1760ea(0x17b)][_0x1760ea(0x265)]['nodesCreated'])return _0x442872[_0x1760ea(0x221)](0x1f4)[_0x1760ea(0x1de)]({'message':_0x1760ea(0x226)});}_0x4ad0e1[_0x1760ea(0x258)]=coreItems['properties'][_0x1760ea(0x237)](_0x406400=>_0x406400[_0x1760ea(0x1b6)][_0x1760ea(0x220)](_0x4ad0e1[_0x1760ea(0x250)]))[_0x1760ea(0x217)]((_0x5ae7d1,_0x51b158)=>{const _0x3c2fa4=_0x1760ea,_0x1ce5f3={..._0x5ae7d1},_0xead18c='prop_'+NODEU['v1']();return _0x1ce5f3['id']=_0xead18c,delete _0x1ce5f3[_0x3c2fa4(0x1b6)],_0x1ce5f3;}),_0x27dcf3[_0x1760ea(0x22f)]['push'](_0x4ad0e1),datamodelUtil['write'](_0x27dcf3,()=>{const _0x4b9900=_0x1760ea;_0x442872[_0x4b9900(0x221)](0xc8)[_0x4b9900(0x1de)]({'nodetype':_[_0x4b9900(0x23b)](_0x27dcf3[_0x4b9900(0x22f)],{'name':_0x1aa7a7})});},_0x20503c=>_0x442872[_0x1760ea(0x221)](0x1f4)['send'](dmValidationError(_0x20503c)),{'section':_0x1760ea(0x22f),'name':_0x1aa7a7});});},'patchNodeTypeMetadata':(_0x2f1aaa,_0x1834d3)=>{const _0x58bb8d=_0x3f3011,{nodetypeId:_0x597b0b}=_0x2f1aaa[_0x58bb8d(0x219)],{property:_0x51d609,value:_0x175dcf}=_0x2f1aaa[_0x58bb8d(0x24a)],_0x4e2ced=fs[_0x58bb8d(0x196)](datamodelFile,{'encoding':_0x58bb8d(0x255),'flag':'r+'}),_0x5dee75=JSON[_0x58bb8d(0x251)](_0x4e2ced),_0x506a3d=_[_0x58bb8d(0x23b)](_0x5dee75[_0x58bb8d(0x22f)],{'id':_0x597b0b});_['set'](_0x506a3d,_0x51d609,_0x175dcf),_0x506a3d[_0x58bb8d(0x250)]===_0x58bb8d(0x1d7)&&!_0x506a3d[_0x58bb8d(0x168)]&&(_0x506a3d['ui'][_0x58bb8d(0x1d1)]=[]),datamodelUtil[_0x58bb8d(0x277)](_0x5dee75,()=>{const _0xb11701=_0x58bb8d;_0x1834d3[_0xb11701(0x221)](0xc8)[_0xb11701(0x1de)]({'id':_0x597b0b,'property':_0x51d609,'value':_0x175dcf,'comment':_0xb11701(0x164),'nodetypes':_0x5dee75[_0xb11701(0x22f)]});},_0x4c296d=>_0x1834d3[_0x58bb8d(0x221)](0x1f4)['send'](dmValidationError(_0x4c296d)),{'section':'nodetypeDefinitions','name':_0x506a3d[_0x58bb8d(0x202)]});},'deleteNodeType':async(_0x17e231,_0x17ccc8)=>{const _0x5d4876=_0x3f3011,_0x4af5e1=_0x17e231[_0x5d4876(0x219)]['id'],_0x5d4861=_['find'](global[_0x5d4876(0x1c6)][_0x5d4876(0x22f)],{'id':_0x4af5e1}),_0x4e9ca4=coreItems[_0x5d4876(0x170)]['find'](_0x19ab9c=>_0x19ab9c===_0x5d4861[_0x5d4876(0x202)]),_0x2b2c7d=_0x5d4861[_0x5d4876(0x1b3)];if(_0x4e9ca4||_0x2b2c7d)return _0x17ccc8[_0x5d4876(0x221)](0x193)[_0x5d4876(0x1de)]({'message':_0x5d4861[_0x5d4876(0x202)]+_0x5d4876(0x224)});global[_0x5d4876(0x1c6)]['nodetypeDefinitions']=_['reject'](global[_0x5d4876(0x1c6)][_0x5d4876(0x22f)],{'id':_0x4af5e1});const _0x4f75dc=[],_0xc74fcd=[];global[_0x5d4876(0x1c6)][_0x5d4876(0x22f)]['forEach'](_0x2dd206=>{const _0x283515=_0x5d4876,{elementType:_0x18e540,directions:_0x2f3551}=_0x2dd206;if(_0x18e540===_0x283515(0x229))return;_0x2dd206[_0x283515(0x247)]=_0x2f3551['filter'](({source:_0x7b94d1,target:_0x26ff55})=>{return _0x7b94d1!==_0x4af5e1&&_0x26ff55!==_0x4af5e1;}),_0x2dd206[_0x283515(0x247)]['length']?_0x4f75dc[_0x283515(0x1a4)](_0x2dd206):_0xc74fcd[_0x283515(0x1a4)](_0x2dd206);}),global[_0x5d4876(0x1c6)]['nodetypeDefinitions']=_[_0x5d4876(0x166)](global[_0x5d4876(0x1c6)][_0x5d4876(0x22f)],_0x1990b9=>{const _0x256721=_0x5d4876;return _0xc74fcd[_0x256721(0x23b)](_0x59a3ee=>_0x59a3ee['id']===_0x1990b9['id']);}),await datamodelUtil['write'](global[_0x5d4876(0x1c6)],()=>{const _0x4a43ce=_0x5d4876;fs['unlinkSync'](datamodelFolder+_0x4a43ce(0x248)+_0x5d4861[_0x4a43ce(0x202)]+_0x4a43ce(0x222)),fs[_0x4a43ce(0x1e4)](datamodelFolder+_0x4a43ce(0x1cd)+_0x5d4861['name']+_0x4a43ce(0x222)),_0xc74fcd['forEach'](_0x125e32=>{const _0x7f2d3=_0x4a43ce,_0x2e46e0=datamodelFolder+_0x7f2d3(0x248)+_0x125e32[_0x7f2d3(0x202)]+_0x7f2d3(0x222);fs[_0x7f2d3(0x194)](_0x2e46e0)&&fs['unlinkSync'](_0x2e46e0);}),_0x4f75dc['forEach'](_0x4ff02e=>{const _0x5113e1=_0x4a43ce,_0x50ab7e=datamodelFolder+_0x5113e1(0x248)+_0x4ff02e[_0x5113e1(0x202)]+_0x5113e1(0x222),_0x5b2665=fs[_0x5113e1(0x196)](_0x50ab7e),_0xb2a7bb=JSON['parse'](_0x5b2665);_0xb2a7bb[_0x5113e1(0x247)]=_0x4ff02e[_0x5113e1(0x247)];const _0x3e842f=JSON[_0x5113e1(0x209)](_0xb2a7bb,null,'\x09');fs['writeFileSync'](_0x50ab7e,_0x3e842f);}),_0x17ccc8[_0x4a43ce(0x221)](0xc8)[_0x4a43ce(0x1de)]({'id':_0x4af5e1,'comment':_0x4a43ce(0x1e2),'nodetypes':global[_0x4a43ce(0x1c6)][_0x4a43ce(0x22f)]});},_0x145690=>_0x17ccc8['status'](0x1f4)[_0x5d4876(0x1c2)](dmValidationError(_0x145690)),{'section':_0x5d4876(0x22f)});},'addNodeTypeProperty':(_0x3028f4,_0x47ce0b)=>{const _0x35502c=_0x3f3011,{params:{nodetype:_0x1c00c9}}=_0x3028f4,{body:{property:_0x42ab7e}}=_0x3028f4;_0x42ab7e[_0x35502c(0x202)]=_0x42ab7e[_0x35502c(0x202)]['replace'](/[^A-Z0-9]/ig,'');if(_0x42ab7e['name']&&Number['isInteger'](parseInt(_0x42ab7e[_0x35502c(0x202)][_0x35502c(0x20c)](0x0),0xa)))return logAndReturn(_0x35502c(0x1e0),![],_0x47ce0b,0x194,_0x35502c(0x225),_0x35502c(0x23f),_0x35502c(0x24f));fs['readFile'](datamodelFile,{'encoding':_0x35502c(0x255)},(_0xa728d5,_0x312720)=>{const _0x585e9d=_0x35502c;if(_0xa728d5)throw _0xa728d5;const _0x5b19d9=JSON['parse'](_0x312720),_0x5d4dba=_['find'](_0x5b19d9[_0x585e9d(0x22f)],{'name':_0x1c00c9});if(!_0x5d4dba)return _0x47ce0b['status'](0x1f4)[_0x585e9d(0x1de)]({'error':_0x585e9d(0x1c9)+_0x1c00c9+'\x20'});const _0x2d672d=_0x5d4dba['properties'][_0x585e9d(0x23b)](_0x3c1ede=>_0x3c1ede[_0x585e9d(0x202)]===_0x42ab7e['name']);if(_0x2d672d!==undefined)_0x47ce0b[_0x585e9d(0x221)](0x1f4)[_0x585e9d(0x1de)]({'error':_0x585e9d(0x172)});else{const _0x38a31d={'id':'prop_'+NODEU['v1'](),'name':NODEU['v1'](),'type':_0x42ab7e['type']||_0x585e9d(0x173),'unique':![],'mandatory':![],'generated':![],'infoData':![],'core':![]};_[_0x585e9d(0x200)](_0x38a31d,_0x42ab7e),_0x5d4dba['properties'][_0x585e9d(0x1a4)](_0x38a31d),datamodelUtil[_0x585e9d(0x277)](_0x5b19d9,()=>{const _0x591491=_0x585e9d;_0x47ce0b[_0x591491(0x221)](0xc8)[_0x591491(0x1de)]({'id':_0x38a31d['id'],'newItem':_0x38a31d,'nodetype':_['find'](_0x5b19d9['nodetypeDefinitions'],{'name':_0x1c00c9})});},_0x2d1999=>_0x47ce0b[_0x585e9d(0x221)](0x1f4)[_0x585e9d(0x1c2)](dmValidationError(_0x2d1999)),{'section':'nodetypeDefinitions','name':_0x1c00c9});}});},'updateNodeTypeProperty':(_0x3f0fae,_0x1b30ec)=>{const _0x1de16d=_0x3f3011,{body:_0x1d305b}=_0x3f0fae,{params:_0x2c9dcd}=_0x3f0fae,{body:{property:_0x2c0669}}=_0x3f0fae,{params:{nodetype:_0x25f464},body:{property:{attribute:_0x13bcea}}}=_0x3f0fae;let {newValue:_0x50a6f4}=_0x3f0fae[_0x1de16d(0x24a)][_0x1de16d(0x1e8)];_0x1d305b[_0x1de16d(0x1e8)]['id']=_0x2c9dcd['id'];if(_0x13bcea===_0x1de16d(0x202)){_0x50a6f4=_0x50a6f4[_0x1de16d(0x268)](/[^A-Z0-9]/ig,'');if(Number[_0x1de16d(0x1f3)](parseInt(_0x50a6f4[_0x1de16d(0x20c)](0x0),0xa)))return logAndReturn('datamodelController.js',![],_0x1b30ec,0x194,_0x1de16d(0x21d),_0x1de16d(0x23f),_0x1de16d(0x24f));}fs[_0x1de16d(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0xa815a6,_0x420e8c)=>{const _0xd5eeda=_0x1de16d;if(_0xa815a6)throw _0xa815a6;const _0x5d9ff8=JSON[_0xd5eeda(0x251)](_0x420e8c),_0x11a8c9=_[_0xd5eeda(0x23b)](_0x5d9ff8[_0xd5eeda(0x22f)],{'name':_0x25f464}),_0x1602ad=_[_0xd5eeda(0x23b)](_0x11a8c9['properties'],{'id':_0x2c0669['id']});if(!_0x1602ad)return logAndReturn(_0xd5eeda(0x1e0),!![],_0x1b30ec,0x194,'updateNodeTypeProperty',_0xd5eeda(0x1a8),'Cannot\x20find\x20property\x20with\x20id:\x20'+_0x2c0669['id']);_0x1602ad[_0x13bcea]=_0x50a6f4,datamodelUtil[_0xd5eeda(0x277)](_0x5d9ff8,()=>{const _0x4df365=_0xd5eeda;_0x1b30ec[_0x4df365(0x221)](0xc8)[_0x4df365(0x1de)]({'id':_0x2c0669['id'],'comment':_0x4df365(0x1fd),'property':_0x1602ad,'nodetype':_[_0x4df365(0x23b)](_0x5d9ff8[_0x4df365(0x22f)],{'name':_0x25f464})});},_0x1f66e5=>_0x1b30ec[_0xd5eeda(0x221)](0x1f4)[_0xd5eeda(0x1c2)](dmValidationError(_0x1f66e5)),{'section':_0xd5eeda(0x22f),'name':_0x25f464});});},'deleteNodeTypeProperty':(_0x498f02,_0x5c6d31)=>{const _0x430661=_0x3f3011,{params:{nodetype:_0x31eef7}}=_0x498f02,_0xb726c8=_0x498f02[_0x430661(0x219)]['id'],_0x124955=fs[_0x430661(0x196)](datamodelFile,{'encoding':'utf8','flag':'r+'}),_0x5ed77c=JSON[_0x430661(0x251)](_0x124955),_0x4b778f=_[_0x430661(0x23b)](_0x5ed77c['nodetypeDefinitions'],{'name':_0x31eef7}),_0x29aa34=_['find'](_0x4b778f['properties'],{'id':_0xb726c8});if(!_0x29aa34)return logAndReturn('datamodelController.js',!![],_0x5c6d31,0x194,'deleteNodeTypeProperty',_0x430661(0x1a8),_0x430661(0x256)+_0xb726c8+'\x20does\x20not\x20exist\x20for\x20nodetype:\x20'+_0x31eef7);if(coreItems['properties']['find'](_0x4974d9=>_0x4974d9[_0x430661(0x202)]===_0x29aa34[_0x430661(0x202)]))return logAndReturn(_0x430661(0x1e0),!![],_0x5c6d31,0x193,_0x430661(0x1c1),_0x430661(0x19a),_0x430661(0x256)+_0xb726c8+'\x20for\x20nodetype:\x20'+_0x31eef7+'\x20is\x20a\x20core\x20property\x20and\x20not\x20allowed\x20to\x20be\x20removed');_0x4b778f[_0x430661(0x258)]=_[_0x430661(0x166)](_0x4b778f[_0x430661(0x258)],{'id':_0xb726c8});const _0x34be06=_['find'](_0x4b778f['ui']['gridColumns'],{'property':_0x29aa34[_0x430661(0x202)]});_0x34be06&&(_0x4b778f['ui'][_0x430661(0x19f)]=_['reject'](_0x4b778f['ui'][_0x430661(0x19f)],{'id':_0x34be06['id']}),_0x4b778f['ui'][_0x430661(0x19f)][_0x430661(0x217)]((_0x8981a5,_0x5a4235)=>_0x8981a5[_0x430661(0x16e)]=_0x5a4235+0x1)),datamodelUtil[_0x430661(0x277)](_0x5ed77c,()=>{const _0x367bfd=_0x430661;_0x5c6d31[_0x367bfd(0x221)](0xc8)[_0x367bfd(0x1de)]({'id':_0xb726c8,'comment':_0x367bfd(0x20f),'nodetype':_['find'](_0x5ed77c[_0x367bfd(0x22f)],{'name':_0x31eef7})});},_0x1acede=>_0x5c6d31[_0x430661(0x221)](0x1f4)['send'](dmValidationError(_0x1acede)),{'section':'nodetypeDefinitions','name':_0x31eef7});},'addNodeTypeMethod':(_0xd36fea,_0x8d9637)=>{const {params:{nodetype:_0x5aec4d}}=_0xd36fea,{body:{method:_0x40423a}}=_0xd36fea;fs['readFile'](datamodelFile,{'encoding':'utf8'},(_0x524b28,_0x498cb6)=>{const _0x3e3e81=_0x2525;if(_0x524b28)throw _0x524b28;const _0x2bc283=JSON['parse'](_0x498cb6),_0x3d0848=_['find'](_0x2bc283[_0x3e3e81(0x22f)],{'name':_0x5aec4d}),_0x3f909d={'id':_0x3e3e81(0x19b)+NODEU['v1'](),'description':_0x40423a[_0x3e3e81(0x163)],'name':_0x40423a[_0x3e3e81(0x1db)]};_['merge'](_0x3f909d,_0x40423a);if(!_0x3d0848['methods'])_0x3d0848[_0x3e3e81(0x240)]=[];_0x3d0848[_0x3e3e81(0x240)][_0x3e3e81(0x1a4)](_0x3f909d),datamodelUtil[_0x3e3e81(0x277)](_0x2bc283,()=>{const _0x34844c=_0x3e3e81;_0x8d9637['status'](0xc8)[_0x34844c(0x1de)]({'id':_0x3f909d['id'],'newItem':_0x3f909d,'nodetype':_[_0x34844c(0x23b)](_0x2bc283[_0x34844c(0x22f)],{'name':_0x5aec4d})});},_0xe95708=>_0x8d9637['status'](0x1f4)['send'](dmValidationError(_0xe95708)),{'section':_0x3e3e81(0x22f),'name':_0x5aec4d});});},'updateNodeTypeMethod':(_0x125a40,_0x447276)=>{const _0x4ea7d3=_0x3f3011,{nodetype:_0x3f21d9,id:_0x57f7df}=_0x125a40[_0x4ea7d3(0x219)],{method:_0xfaa5c2}=_0x125a40[_0x4ea7d3(0x24a)],{attribute:_0xe0db95,newValue:_0x5a29e3}=_0xfaa5c2;fs[_0x4ea7d3(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x1fd3ae,_0x493010)=>{const _0x2ce0c9=_0x4ea7d3;if(_0x1fd3ae)throw _0x1fd3ae;const _0x15567a=JSON[_0x2ce0c9(0x251)](_0x493010),_0x586d4c=_0x15567a[_0x2ce0c9(0x22f)][_0x2ce0c9(0x23b)](_0x3005bf=>_0x3005bf[_0x2ce0c9(0x202)]===_0x3f21d9),_0x3e500e=_0x586d4c[_0x2ce0c9(0x240)][_0x2ce0c9(0x23b)](_0x49edf3=>_0x49edf3['id']===_0x57f7df);_0x3e500e[_0xe0db95]=_0x5a29e3,datamodelUtil['write'](_0x15567a,()=>_0x447276[_0x2ce0c9(0x221)](0xc8)[_0x2ce0c9(0x1de)]({'id':_0xfaa5c2['id'],'comment':_0x2ce0c9(0x242),'property':_0x3e500e,'nodetype':_0x586d4c}),_0x4838db=>_0x447276['status'](0x1f4)['send'](dmValidationError(_0x4838db)),{'section':_0x2ce0c9(0x22f),'name':_0x3f21d9});});},'deleteNodeTypeMethod':(_0x399772,_0x5680df)=>{const _0x4ad354=_0x3f3011,{params:{nodetype:_0x368980}}=_0x399772,_0x47970d=_0x399772[_0x4ad354(0x219)]['id'],_0x3d72dc=fs['readFileSync'](datamodelFile,{'encoding':'utf8','flag':'r+'}),_0x103db7=JSON['parse'](_0x3d72dc),_0x3d935f=_[_0x4ad354(0x23b)](_0x103db7[_0x4ad354(0x22f)],{'name':_0x368980}),_0x21dae4=_[_0x4ad354(0x23b)](_0x3d935f[_0x4ad354(0x240)],{'id':_0x47970d});if(!_0x21dae4)return logAndReturn(_0x4ad354(0x1e0),!![],_0x5680df,0x1f4,_0x4ad354(0x1a0),_0x4ad354(0x235),_0x4ad354(0x1dd)+_0x47970d+_0x4ad354(0x192)+_0x368980);_0x3d935f[_0x4ad354(0x240)]=_[_0x4ad354(0x166)](_0x3d935f[_0x4ad354(0x240)],{'id':_0x47970d}),datamodelUtil[_0x4ad354(0x277)](_0x103db7,()=>{const _0x21c11e=_0x4ad354;_0x5680df[_0x21c11e(0x221)](0xc8)[_0x21c11e(0x1de)]({'id':_0x47970d,'comment':'method\x20deleted','nodetype':_['find'](_0x103db7['nodetypeDefinitions'],{'name':_0x368980})});},_0x24866c=>_0x5680df[_0x4ad354(0x221)](0x1f4)[_0x4ad354(0x1c2)](dmValidationError(_0x24866c)),{'section':_0x4ad354(0x22f),'name':_0x368980});},'addNodeTypeInstanciation':(_0x4b9e1b,_0x4e367c)=>{const _0x3ba753=_0x3f3011,{params:{nodetype:_0x29af87}}=_0x4b9e1b,{body:{instanciation:_0x3ad4a3}}=_0x4b9e1b;fs[_0x3ba753(0x1f9)](datamodelFile,{'encoding':_0x3ba753(0x255)},(_0x3197ce,_0x2ebebc)=>{const _0x23156f=_0x3ba753;if(_0x3197ce)throw _0x3197ce;const _0x102007=JSON[_0x23156f(0x251)](_0x2ebebc),_0x51ecb0=_['find'](_0x102007[_0x23156f(0x22f)],{'name':_0x29af87}),_0x29bf1d={'id':'nti_'+NODEU['v1']()};_[_0x23156f(0x200)](_0x29bf1d,_0x3ad4a3);if(!_0x51ecb0['instanciations'])_0x51ecb0['instanciations']=[];_0x51ecb0[_0x23156f(0x165)][_0x23156f(0x1a4)](_0x29bf1d),datamodelUtil[_0x23156f(0x277)](_0x102007,()=>{const _0x546964=_0x23156f;_0x4e367c[_0x546964(0x221)](0xc8)[_0x546964(0x1de)]({'id':_0x29bf1d['id'],'newItem':_0x29bf1d,'nodetype':_[_0x546964(0x23b)](_0x102007[_0x546964(0x22f)],{'name':_0x29af87})});},_0x590d87=>_0x4e367c[_0x23156f(0x221)](0x1f4)[_0x23156f(0x1c2)](dmValidationError(_0x590d87)),{'section':'nodetypeDefinitions','name':_0x29af87});});},'updateNodeTypeInstanciation':(_0x51e07a,_0x568041)=>{const _0x561023=_0x3f3011,{body:_0x36553b}=_0x51e07a,{params:_0x2b426f}=_0x51e07a,{body:{instanciation:_0x3e92fb}}=_0x51e07a,{params:{nodetype:_0xcc9144},body:{instanciation:{attribute:_0x2e6035,newValue:_0x475912}}}=_0x51e07a;_0x36553b[_0x561023(0x1f8)]['id']=_0x2b426f['id'],fs['readFile'](datamodelFile,{'encoding':_0x561023(0x255)},(_0x1cef3e,_0x12f221)=>{const _0x3c10d5=_0x561023;if(_0x1cef3e)throw _0x1cef3e;const _0x587834=JSON[_0x3c10d5(0x251)](_0x12f221),_0x2adc6f=_[_0x3c10d5(0x23b)](_0x587834[_0x3c10d5(0x22f)],{'name':_0xcc9144}),_0x115068=_[_0x3c10d5(0x23b)](_0x2adc6f[_0x3c10d5(0x165)],{'id':_0x3e92fb['id']}),_0x2915ea=[];Promise[_0x3c10d5(0x191)](_0x2915ea)[_0x3c10d5(0x1cc)](()=>{const _0x420e4c=_0x3c10d5;_0x115068[_0x2e6035]=_0x475912,datamodelUtil['write'](_0x587834,()=>_0x568041[_0x420e4c(0x221)](0xc8)['json']({'id':_0x3e92fb['id'],'comment':'nodetype\x20instanciation\x20patched','property':_0x115068,'nodetype':_[_0x420e4c(0x23b)](_0x587834['nodetypeDefinitions'],{'name':_0xcc9144})}),_0x4c2073=>_0x568041[_0x420e4c(0x221)](0x1f4)[_0x420e4c(0x1c2)](dmValidationError(_0x4c2073)),{'section':_0x420e4c(0x22f),'name':_0xcc9144});});});},'deleteNodeTypeInstanciation':async(_0x1a97e9,_0x1439a8)=>{const _0x31da5b=_0x3f3011,{params:{nodetype:_0x1ecf95}}=_0x1a97e9,_0x17f6c6=_0x1a97e9[_0x31da5b(0x219)]['id'],_0x51189c=fs[_0x31da5b(0x196)](datamodelFile,{'encoding':_0x31da5b(0x255),'flag':'r+'}),_0x3d5e42=JSON[_0x31da5b(0x251)](_0x51189c),_0x4cb6d6=_['find'](_0x3d5e42['nodetypeDefinitions'],{'name':_0x1ecf95}),_0x495149=_[_0x31da5b(0x23b)](_0x4cb6d6[_0x31da5b(0x165)],{'id':_0x17f6c6});if(!_0x495149)return logAndReturn('datamodelController.js',!![],_0x1439a8,0x1f4,'deleteNodeTypeInstanciation',_0x31da5b(0x190),_0x31da5b(0x26d)+_0x17f6c6+'\x20does\x20not\x20exist\x20for\x20nodetype:\x20'+_0x1ecf95);_0x4cb6d6[_0x31da5b(0x165)]=_['reject'](_0x4cb6d6[_0x31da5b(0x165)],{'id':_0x17f6c6});const _0x49c8fa=driver[_0x31da5b(0x1b7)](),_0x1ed3c1=_0x31da5b(0x22a)+_0x1ecf95+')\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20$instanciationId\x20IN\x20n._serialized\x0a\x20\x20\x20\x20\x20\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20n._serialized\x20=\x20[x\x20IN\x20n._serialized\x20WHERE\x20x\x20<>\x20\x22'+_0x17f6c6+_0x31da5b(0x1eb);await _0x49c8fa[_0x31da5b(0x223)](_0x1ed3c1,{'instanciationId':_0x17f6c6}),_0x49c8fa[_0x31da5b(0x204)](),datamodelUtil[_0x31da5b(0x277)](_0x3d5e42,()=>{const _0x521ddb=_0x31da5b;_0x1439a8['status'](0xc8)[_0x521ddb(0x1de)]({'id':_0x17f6c6,'comment':'instanciation\x20deleted','nodetype':_['find'](_0x3d5e42[_0x521ddb(0x22f)],{'name':_0x1ecf95})});},_0x305c29=>_0x1439a8['status'](0x1f4)['send'](dmValidationError(_0x305c29)),{'section':_0x31da5b(0x22f),'name':_0x1ecf95});},'moveGridColumn':(_0x57ed5a,_0x5c1fd)=>{const _0x27448f=_0x3f3011,{nodetype:_0x30d232,gridName:gridName=_0x27448f(0x19f)}=_0x57ed5a[_0x27448f(0x219)],{columnIndex:_0x4ba569,direction:_0x31668d,propId:_0x45c699}=_0x57ed5a[_0x27448f(0x24a)];fs['readFile'](datamodelFile,{'encoding':_0x27448f(0x255)},(_0x25d640,_0x43d1df)=>{const _0x4c658d=_0x27448f;if(_0x25d640)throw _0x25d640;const _0x11b6d6=JSON[_0x4c658d(0x251)](_0x43d1df),_0x3b49a4=_[_0x4c658d(0x23b)](_0x11b6d6[_0x4c658d(0x22f)],{'name':_0x30d232});if(_0x31668d==='up')_0x3b49a4['ui'][gridName]['move'](_0x4ba569,_0x4ba569-0x1);else{if(_0x31668d===_0x4c658d(0x179))_0x3b49a4['ui'][gridName][_0x4c658d(0x1f1)](_0x4ba569,_0x4ba569+0x1);else{if(_0x31668d===_0x4c658d(0x1b8)){const _0x1115ac=_0x3b49a4['ui'][gridName]['findIndex'](_0x38a2c4=>_0x38a2c4['id']===_0x45c699);_0x3b49a4['ui'][gridName]['move'](_0x1115ac,_0x4ba569);}}}_0x3b49a4['ui'][gridName][_0x4c658d(0x217)]((_0x460382,_0x3dbf61)=>_0x460382['order']=_0x3dbf61+0x1),datamodelUtil[_0x4c658d(0x277)](_0x11b6d6,()=>{const _0x5024ae=_0x4c658d;_0x5c1fd[_0x5024ae(0x221)](0xc8)[_0x5024ae(0x1de)]({'nodetype':_['find'](_0x11b6d6[_0x5024ae(0x22f)],{'name':_0x30d232})});},_0x3df018=>_0x5c1fd[_0x4c658d(0x221)](0x1f4)[_0x4c658d(0x1c2)](dmValidationError(_0x3df018)),{'section':_0x4c658d(0x22f),'name':_0x30d232});});},'addNodeGridColumn':(_0x428e79,_0x1e6098)=>{const _0x3002f5=_0x3f3011,{nodetype:_0x257351,gridName:gridName=_0x3002f5(0x19f)}=_0x428e79[_0x3002f5(0x219)],{gridColumn:_0x5b4699}=_0x428e79['body'];fs['readFile'](datamodelFile,{'encoding':_0x3002f5(0x255)},(_0x18e1a7,_0x108eef)=>{const _0x766bf6=_0x3002f5;if(_0x18e1a7)throw _0x18e1a7;const _0x2d14f8=JSON[_0x766bf6(0x251)](_0x108eef),_0x408379=_[_0x766bf6(0x23b)](_0x2d14f8['nodetypeDefinitions'],{'name':_0x257351}),_0x49f47b={'id':'uigc_'+NODEU['v1'](),'name':_0x766bf6(0x16c)+_0x408379['ui'][gridName]['length'],'type':_0x766bf6(0x173)};_[_0x766bf6(0x200)](_0x49f47b,_0x5b4699),_0x408379['ui'][gridName][_0x766bf6(0x1a4)](_0x49f47b),_0x408379['ui'][gridName][_0x766bf6(0x217)]((_0x439236,_0x517745)=>_0x439236['order']=_0x517745+0x1),datamodelUtil[_0x766bf6(0x277)](_0x2d14f8,()=>{const _0x25f547=_0x766bf6;_0x1e6098[_0x25f547(0x221)](0xc8)[_0x25f547(0x1de)]({'id':_0x49f47b['id'],'newItem':_0x49f47b,'nodetype':_[_0x25f547(0x23b)](_0x2d14f8[_0x25f547(0x22f)],{'name':_0x257351})});},_0x3454a9=>_0x1e6098['status'](0x1f4)[_0x766bf6(0x1c2)](dmValidationError(_0x3454a9)),{'section':_0x766bf6(0x22f),'name':_0x257351});});},'updateNodeGridColumns':(_0x1df53e,_0x3c0908)=>{const _0x38e469=_0x3f3011,{nodetype:_0xbaa343,gridName:gridName=_0x38e469(0x19f)}=_0x1df53e[_0x38e469(0x219)],{columns:_0x4345b4}=_0x1df53e[_0x38e469(0x24a)];fs[_0x38e469(0x1f9)](datamodelFile,{'encoding':_0x38e469(0x255)},(_0x33b499,_0x31e29f)=>{const _0x4f0dda=_0x38e469;if(_0x33b499)throw _0x33b499;const _0x1485bc=JSON[_0x4f0dda(0x251)](_0x31e29f),_0x41dadc=_[_0x4f0dda(0x23b)](_0x1485bc[_0x4f0dda(0x22f)],{'name':_0xbaa343}),_0x539a6f=_0x4345b4[_0x4f0dda(0x217)](_0x1cf8e4=>{const _0x4235ee=_0x4f0dda;return _0x1cf8e4['id']=_0x4235ee(0x272)+NODEU['v1'](),_0x1cf8e4;});_0x41dadc['ui'][gridName]=_0x539a6f,_0x41dadc['ui'][gridName]['map']((_0x1544fc,_0x3b392a)=>_0x1544fc['order']=_0x3b392a+0x1),datamodelUtil[_0x4f0dda(0x277)](_0x1485bc,()=>{const _0x1fe53d=_0x4f0dda;_0x3c0908['status'](0xc8)[_0x1fe53d(0x1de)](_0x539a6f);},_0xd8ea89=>_0x3c0908[_0x4f0dda(0x221)](0x1f4)['send'](dmValidationError(_0xd8ea89)),{'section':'nodetypeDefinitions','name':_0xbaa343});});},'updateNodeGridColumn':(_0x2668f1,_0x264c57)=>{const _0x24fc05=_0x3f3011,{nodetype:_0x2c7089,gridName:gridName=_0x24fc05(0x19f),columnId:_0x15af42}=_0x2668f1[_0x24fc05(0x219)],{attribute:_0x234afc,newValue:_0x39ea07}=_0x2668f1[_0x24fc05(0x24a)][_0x24fc05(0x208)],_0x12076b=fs[_0x24fc05(0x196)](datamodelFile,{'encoding':_0x24fc05(0x255),'flag':'r+'}),_0x4c057f=JSON[_0x24fc05(0x251)](_0x12076b),_0x23f983=_['find'](_0x4c057f[_0x24fc05(0x22f)],{'name':_0x2c7089}),_0x5f3f6d=_['find'](_0x23f983['ui'][gridName],{'id':_0x15af42});if(!_0x5f3f6d)return logAndReturn(_0x24fc05(0x1e0),!![],_0x264c57,0x194,'updateNodeGridColumn',_0x24fc05(0x230),'Column\x20with\x20ID:\x20'+_0x15af42+_0x24fc05(0x241)+_0x2c7089);_0x5f3f6d[_0x234afc]=_0x39ea07,datamodelUtil['write'](_0x4c057f,()=>{const _0x6247c=_0x24fc05;_0x264c57[_0x6247c(0x221)](0xc8)[_0x6247c(0x1de)]({'id':_0x5f3f6d['id'],'comment':'column\x20patched','column':_0x5f3f6d,'nodetype':_0x23f983});},_0x2e277e=>_0x264c57[_0x24fc05(0x221)](0x1f4)[_0x24fc05(0x1c2)](dmValidationError(_0x2e277e)),{'section':_0x24fc05(0x22f),'name':_0x2c7089});},'deleteNodeGridColumn':(_0x50ebf8,_0x25c18e)=>{const _0x2a91ae=_0x3f3011,{nodetype:_0xd3d3f5,gridName:gridName=_0x2a91ae(0x19f),columnId:_0x447af2}=_0x50ebf8['params'],_0x436e37=fs[_0x2a91ae(0x196)](datamodelFile,{'encoding':'utf8','flag':'r+'}),_0x29a05b=JSON[_0x2a91ae(0x251)](_0x436e37),_0x162f0c=_['find'](_0x29a05b[_0x2a91ae(0x22f)],{'name':_0xd3d3f5}),_0x19a3d0=_['find'](_0x162f0c['ui'][gridName],{'id':_0x447af2});if(!_0x19a3d0)return logAndReturn('datamodelController.js',!![],_0x25c18e,0x194,_0x2a91ae(0x253),_0x2a91ae(0x230),_0x2a91ae(0x18b)+_0x447af2+'\x20does\x20not\x20exist\x20for\x20nodetype:\x20'+_0xd3d3f5);_0x162f0c['ui'][gridName]=_['reject'](_0x162f0c['ui'][gridName],{'id':_0x447af2}),_0x162f0c['ui'][gridName][_0x2a91ae(0x217)]((_0xcc3b77,_0x2a5d46)=>_0xcc3b77[_0x2a91ae(0x16e)]=_0x2a5d46+0x1),datamodelUtil[_0x2a91ae(0x277)](_0x29a05b,()=>{const _0x48786a=_0x2a91ae;_0x25c18e[_0x48786a(0x221)](0xc8)[_0x48786a(0x1de)]({'id':_0x447af2,'comment':_0x48786a(0x233),'nodetype':_[_0x48786a(0x23b)](_0x29a05b[_0x48786a(0x22f)],{'name':_0xd3d3f5})});},_0x3a2c83=>_0x25c18e['status'](0x1f4)[_0x2a91ae(0x1c2)](dmValidationError(_0x3a2c83)),{'section':_0x2a91ae(0x22f),'name':_0xd3d3f5});},'addNodeTypeTab':(_0x3c0db7,_0xae6f36)=>{const _0x18b787=_0x3f3011,{params:{nodetype:_0x54eadd},body:{tab:_0x1584d8}}=_0x3c0db7;fs[_0x18b787(0x1f9)](datamodelFile,{'encoding':_0x18b787(0x255)},(_0x3e885b,_0x441634)=>{const _0x3fe42c=_0x18b787;if(_0x3e885b)throw _0x3e885b;const _0x1f4cd2=JSON['parse'](_0x441634),_0x28189d=_[_0x3fe42c(0x23b)](_0x1f4cd2[_0x3fe42c(0x22f)],{'name':_0x54eadd});_0x1584d8[_0x3fe42c(0x202)]=_0x1584d8['name']['replace'](/[^A-Z0-9]/ig,'');const _0x5526c2={'id':_0x3fe42c(0x16b)+NODEU['v1'](),'name':_0x1584d8[_0x3fe42c(0x202)],'label':_0x1584d8[_0x3fe42c(0x245)],'tabContentType':_0x1584d8['tabContentType'],'attachMode':_0x1584d8[_0x3fe42c(0x271)]||'','relationships':_0x1584d8[_0x3fe42c(0x246)]||''};!_0x28189d['ui'][_0x3fe42c(0x25e)]&&(_0x28189d['ui']['tabs']=[]),_0x28189d['ui'][_0x3fe42c(0x25e)][_0x3fe42c(0x1a4)](_0x5526c2),_0x28189d['ui'][_0x3fe42c(0x25e)]['map']((_0x92accc,_0x4081d9)=>_0x92accc[_0x3fe42c(0x16e)]=_0x4081d9+0x1),datamodelUtil['write'](_0x1f4cd2,()=>{const _0x433fb4=_0x3fe42c;_0xae6f36[_0x433fb4(0x221)](0xc8)['json']({'id':_0x5526c2['id'],'tab':_0x5526c2,'nodetype':_[_0x433fb4(0x23b)](_0x1f4cd2[_0x433fb4(0x22f)],{'name':_0x54eadd})});},_0x1683af=>_0xae6f36[_0x3fe42c(0x221)](0x1f4)['send'](dmValidationError(_0x1683af)),{'section':_0x3fe42c(0x22f),'name':_0x54eadd});});},'updateNodeTypeTab':(_0x4b72e1,_0x3d312f)=>{const {params:{nodetype:_0x4cedbb},body:{tab:_0x5df46a}}=_0x4b72e1,{attribute:_0x93fe72}=_0x5df46a;let {newValue:_0x3afb8b}=_0x5df46a;const _0x30db5f=_0x4b72e1['params']['id'];fs['readFile'](datamodelFile,{'encoding':'utf8'},(_0xe02131,_0xf264c1)=>{const _0x254014=_0x2525;if(_0xe02131)throw _0xe02131;const _0x2a3d29=JSON[_0x254014(0x251)](_0xf264c1),_0x5d1638=_[_0x254014(0x23b)](_0x2a3d29[_0x254014(0x22f)],{'name':_0x4cedbb}),_0x352821=_[_0x254014(0x23b)](_0x5d1638['ui']['tabs'],{'id':_0x30db5f});_0x93fe72===_0x254014(0x202)&&(_0x3afb8b=_0x3afb8b[_0x254014(0x268)](/[^A-Z0-9]/ig,''));if(_0x352821)_0x352821[_0x93fe72]=_0x3afb8b;else return logAndReturn(_0x254014(0x1e0),!![],_0x3d312f,0x194,_0x254014(0x1e6),_0x254014(0x21c),_0x254014(0x232)+_0x30db5f+_0x254014(0x192)+_0x4cedbb);datamodelUtil[_0x254014(0x277)](_0x2a3d29,()=>{const _0x30845d=_0x254014;_0x3d312f[_0x30845d(0x221)](0xc8)[_0x30845d(0x1de)]({'id':_0x5df46a['id'],'nodetype':_['find'](_0x2a3d29[_0x30845d(0x22f)],{'name':_0x4cedbb})});},_0x4059cb=>_0x3d312f[_0x254014(0x221)](0x1f4)[_0x254014(0x1c2)](dmValidationError(_0x4059cb)),{'section':_0x254014(0x22f),'name':_0x4cedbb});});},'removeNodeTypeTab':(_0x357fe4,_0xcfae64)=>{const _0xcf753f=_0x3f3011,{params:{nodetype:_0xc88f8a}}=_0x357fe4,_0x116917=_0x357fe4['params']['id'],_0x1d66e6=fs[_0xcf753f(0x196)](datamodelFile,{'encoding':_0xcf753f(0x255),'flag':'r+'}),_0x22e0a9=JSON[_0xcf753f(0x251)](_0x1d66e6),_0x9c623a=_[_0xcf753f(0x23b)](_0x22e0a9[_0xcf753f(0x22f)],{'name':_0xc88f8a}),_0x28234d=_[_0xcf753f(0x23b)](_0x9c623a['ui'][_0xcf753f(0x25e)],{'id':_0x116917});if(!_0x28234d)return logAndReturn(_0xcf753f(0x1e0),!![],_0xcfae64,0x194,_0xcf753f(0x1ae),_0xcf753f(0x21c),_0xcf753f(0x232)+_0x116917+_0xcf753f(0x192)+_0xc88f8a);_0x9c623a['ui'][_0xcf753f(0x25e)]=_['reject'](_0x9c623a['ui'][_0xcf753f(0x25e)],{'id':_0x116917}),_0x9c623a['ui'][_0xcf753f(0x25e)]['map']((_0x45b635,_0x168b4e)=>_0x45b635[_0xcf753f(0x16e)]=_0x168b4e+0x1),datamodelUtil[_0xcf753f(0x277)](_0x22e0a9,()=>{const _0x3649f5=_0xcf753f;_0xcfae64[_0x3649f5(0x221)](0xc8)['json']({'id':_0x116917,'comment':_0x3649f5(0x169),'nodetype':_[_0x3649f5(0x23b)](_0x22e0a9[_0x3649f5(0x22f)],{'name':_0xc88f8a})});},_0x39d7ed=>_0xcfae64[_0xcf753f(0x221)](0x1f4)[_0xcf753f(0x1c2)](dmValidationError(_0x39d7ed)),{'section':_0xcf753f(0x22f),'name':_0xc88f8a});},'moveNodeTypeTab':(_0x58b0ff,_0x1b82b2)=>{const _0x866356=_0x3f3011,{params:{nodetype:_0x135ffb}}=_0x58b0ff,{body:{tabIndex:_0x2185dc,direction:_0x1a570a,tabId:_0x39081}}=_0x58b0ff;fs[_0x866356(0x1f9)](datamodelFile,{'encoding':_0x866356(0x255)},(_0x2ac26c,_0x2884cf)=>{const _0x1b58ef=_0x866356;if(_0x2ac26c)throw _0x2ac26c;const _0x53432b=JSON[_0x1b58ef(0x251)](_0x2884cf),_0x43ca75=_[_0x1b58ef(0x23b)](_0x53432b[_0x1b58ef(0x22f)],{'name':_0x135ffb});if(_0x1a570a==='up')_0x43ca75['ui']['tabs']['move'](_0x2185dc,_0x2185dc-0x1);else{if(_0x1a570a===_0x1b58ef(0x179))_0x43ca75['ui']['tabs'][_0x1b58ef(0x1f1)](_0x2185dc,_0x2185dc+0x1);else{if(_0x1a570a===_0x1b58ef(0x1b8)){const _0x381d3f=_0x43ca75['ui'][_0x1b58ef(0x25e)][_0x1b58ef(0x238)](_0x262039=>_0x262039['id']===_0x39081);_0x43ca75['ui']['tabs'][_0x1b58ef(0x1f1)](_0x381d3f,_0x2185dc);}}}_0x43ca75['ui'][_0x1b58ef(0x25e)]['map']((_0x2761ae,_0x186189)=>_0x2761ae['order']=_0x186189+0x1),datamodelUtil[_0x1b58ef(0x277)](_0x53432b,()=>{const _0x51648c=_0x1b58ef;_0x1b82b2[_0x51648c(0x221)](0xc8)[_0x51648c(0x1de)]({'nodetype':_[_0x51648c(0x23b)](_0x53432b['nodetypeDefinitions'],{'name':_0x135ffb})});},_0x398d6f=>_0x1b82b2[_0x1b58ef(0x221)](0x1f4)[_0x1b58ef(0x1c2)](dmValidationError(_0x398d6f)),{'section':_0x1b58ef(0x22f),'name':_0x135ffb});});},'addNodeTypeLcRole':(_0x3b0e3b,_0x31b793)=>{const _0x52b168=_0x3f3011,{params:{nodetype:_0x450c49}}=_0x3b0e3b,_0x4259ca=_0x3b0e3b[_0x52b168(0x24a)]['name'];fs[_0x52b168(0x1f9)](datamodelFile,{'encoding':_0x52b168(0x255)},(_0x145825,_0x426d3d)=>{const _0x4d99f5=_0x52b168;if(_0x145825)throw _0x145825;const _0x244c9a=JSON['parse'](_0x426d3d),_0x5dd7de=_['find'](_0x244c9a[_0x4d99f5(0x22f)],{'name':_0x450c49}),_0x4e95fc={'id':_0x4d99f5(0x187)+NODEU['v1'](),'name':_0x4259ca,'label':_0x4259ca};!_0x5dd7de[_0x4d99f5(0x1cf)]&&(_0x5dd7de[_0x4d99f5(0x1cf)]={'states':[],'transitions':[],'roles':[]}),!_0x5dd7de[_0x4d99f5(0x1cf)][_0x4d99f5(0x1a1)]&&(_0x5dd7de['lifecycle'][_0x4d99f5(0x1a1)]=[]),_0x5dd7de[_0x4d99f5(0x1cf)][_0x4d99f5(0x1a1)][_0x4d99f5(0x1a4)](_0x4e95fc),datamodelUtil['write'](_0x244c9a,()=>{const _0x360142=_0x4d99f5;_0x31b793['status'](0xc8)[_0x360142(0x1de)]({'id':_0x4e95fc['id'],'role':_0x4e95fc,'nodetype':_[_0x360142(0x23b)](_0x244c9a[_0x360142(0x22f)],{'name':_0x450c49})});},_0x59b48e=>_0x31b793['status'](0x1f4)[_0x4d99f5(0x1c2)](dmValidationError(_0x59b48e)),{'section':'nodetypeDefinitions','name':_0x450c49});});},'updateNodeTypeLcRole':(_0x29757e,_0x324e36)=>{const _0x5354a2=_0x3f3011,{params:{nodetype:_0x56327b},body:{role:_0x3b1d16}}=_0x29757e,_0x57dc98=_0x29757e['params']['id'],{attribute:_0x185c4e}=_0x3b1d16,{newValue:_0x1fee44}=_0x3b1d16;fs[_0x5354a2(0x1f9)](datamodelFile,{'encoding':_0x5354a2(0x255)},(_0x52a1c9,_0x21364d)=>{const _0x177ab5=_0x5354a2;if(_0x52a1c9)throw _0x52a1c9;const _0x8e18de=JSON['parse'](_0x21364d),_0x5af189=_['find'](_0x8e18de['nodetypeDefinitions'],{'name':_0x56327b}),_0xf5c48d=_['find'](_0x5af189[_0x177ab5(0x1cf)][_0x177ab5(0x1a1)],{'id':_0x57dc98});if(!_0xf5c48d)return logAndReturn('datamodelController.js',!![],_0x324e36,0x194,_0x177ab5(0x198),'Lifecycle\x20Role\x20does\x20not\x20exist',_0x177ab5(0x1da)+_0x57dc98+_0x177ab5(0x192)+_0x56327b);_0xf5c48d[_0x185c4e]=_0x1fee44,datamodelUtil['write'](_0x8e18de,()=>{const _0x5ae7de=_0x177ab5;_0x324e36[_0x5ae7de(0x221)](0xc8)['json']({'id':_0xf5c48d['id'],'role':_0xf5c48d,'comment':_0x5ae7de(0x1bb),'nodetype':_['find'](_0x8e18de[_0x5ae7de(0x22f)],{'name':_0x56327b})});},_0x4e71f0=>_0x324e36[_0x177ab5(0x221)](0x1f4)['send'](dmValidationError(_0x4e71f0)),{'section':'nodetypeDefinitions','name':_0x56327b});});},'deleteNodeTypeLcRole':(_0x49f8a4,_0x5cf7ad)=>{const _0x5d4438=_0x3f3011,{params:{nodetype:_0x5cfe33}}=_0x49f8a4,_0x161397=_0x49f8a4['params']['id'],_0x1582a7=fs[_0x5d4438(0x196)](datamodelFile,{'encoding':_0x5d4438(0x255),'flag':'r+'}),_0x27c2fc=JSON['parse'](_0x1582a7),_0x519571=_[_0x5d4438(0x23b)](_0x27c2fc['nodetypeDefinitions'],{'name':_0x5cfe33}),_0x9f7a7=_[_0x5d4438(0x23b)](_0x519571[_0x5d4438(0x1cf)][_0x5d4438(0x1a1)],{'id':_0x161397});if(!_0x9f7a7)return logAndReturn(_0x5d4438(0x1e0),!![],_0x5cf7ad,0x194,_0x5d4438(0x203),_0x5d4438(0x25d),_0x5d4438(0x1da)+_0x161397+_0x5d4438(0x192)+_0x5cfe33);_0x519571[_0x5d4438(0x1cf)][_0x5d4438(0x1a1)]=_[_0x5d4438(0x166)](_0x519571[_0x5d4438(0x1cf)][_0x5d4438(0x1a1)],{'id':_0x161397}),datamodelUtil['write'](_0x27c2fc,()=>{const _0x4167aa=_0x5d4438;_0x5cf7ad[_0x4167aa(0x221)](0xc8)[_0x4167aa(0x1de)]({'id':_0x161397,'comment':'role\x20deleted','nodetype':_[_0x4167aa(0x23b)](_0x27c2fc[_0x4167aa(0x22f)],{'name':_0x5cfe33})});},_0x3426cc=>_0x5cf7ad[_0x5d4438(0x221)](0x1f4)['send'](dmValidationError(_0x3426cc)),{'section':_0x5d4438(0x22f),'name':_0x5cfe33});},'addNodeTypeLcState':(_0xb9924f,_0x14dfa4)=>{const _0x38a4d0=_0x3f3011,{params:{nodetype:_0x519ee7},body:{state:_0x24b0be}}=_0xb9924f;fs[_0x38a4d0(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x4a2c42,_0xe54d1b)=>{const _0x441b=_0x38a4d0;if(_0x4a2c42)throw _0x4a2c42;const _0xb8e5f4=JSON['parse'](_0xe54d1b),_0x5bb7cc=_[_0x441b(0x23b)](_0xb8e5f4[_0x441b(0x22f)],{'name':_0x519ee7}),_0x5c8bd2=nodeTypeLcStateInit;_0x5c8bd2['id']=_0x441b(0x15e)+NODEU['v1'](),_0x5c8bd2[_0x441b(0x202)]=_0x24b0be[_0x441b(0x202)],_0x5c8bd2[_0x441b(0x245)]=_0x24b0be[_0x441b(0x245)],!_0x5bb7cc[_0x441b(0x1cf)]&&(_0x5bb7cc[_0x441b(0x1cf)]={'states':[],'transitions':[],'roles':[]}),!_0x5bb7cc['lifecycle'][_0x441b(0x18a)]&&(_0x5bb7cc['lifecycle'][_0x441b(0x18a)]=[]),_0x5bb7cc[_0x441b(0x1cf)][_0x441b(0x18a)][_0x441b(0x1a4)](_0x5c8bd2),datamodelUtil[_0x441b(0x277)](_0xb8e5f4,()=>{const _0x14274=_0x441b;_0x14dfa4[_0x14274(0x221)](0xc8)['json']({'id':_0x5c8bd2['id'],'state':_0x5c8bd2,'comment':_0x14274(0x201),'nodetype':_[_0x14274(0x23b)](_0xb8e5f4['nodetypeDefinitions'],{'name':_0x519ee7})});},_0x26bcda=>_0x14dfa4[_0x441b(0x221)](0x1f4)[_0x441b(0x1c2)](dmValidationError(_0x26bcda)),{'section':_0x441b(0x22f),'name':_0x519ee7});});},'updateNodeTypeLcState':(_0x20ad27,_0x5792e7)=>{const _0x1893bc=_0x3f3011,{params:{nodetype:_0x2aad50},body:{state:_0x30e15e}}=_0x20ad27;_0x30e15e['id']=_0x20ad27[_0x1893bc(0x219)]['id'];const {attribute:_0x142872,newValue:_0x3bb64a}=_0x30e15e;let _0x56ea80={};fs[_0x1893bc(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x29ce2e,_0x114b40)=>{const _0x257869=_0x1893bc;if(_0x29ce2e)throw _0x29ce2e;const _0xb86eae=JSON[_0x257869(0x251)](_0x114b40),_0xd64231=_['find'](_0xb86eae[_0x257869(0x22f)],{'name':_0x2aad50});if(!_0xd64231[_0x257869(0x1cf)])return logAndReturn(_0x257869(0x1e0),!![],_0x5792e7,0x194,_0x257869(0x259),'No\x20Lifecycles\x20exists',_0x257869(0x1a3)+_0x2aad50);_0x56ea80=_['find'](_0xd64231[_0x257869(0x1cf)][_0x257869(0x18a)],{'id':_0x30e15e['id']});if(!_0x56ea80)return logAndReturn('datamodelController.js',!![],_0x5792e7,0x194,'updateNodeTypeLcState',_0x257869(0x25b),_0x257869(0x171)+_0x30e15e['id']+'\x20does\x20not\x20exist\x20for\x20nodetype:\x20'+_0x2aad50);_0x56ea80[_0x142872]=_0x3bb64a;const _0x2d8cdb=driver[_0x257869(0x1b7)](),_0xe38abe=_0x257869(0x264)+_0x2aad50+_0x257869(0x270)+_0x56ea80[_0x257869(0x26b)]+'\x20RETURN\x20count(nodes)';_0x2d8cdb[_0x257869(0x223)](_0xe38abe,{'stateUpdateName':_0x56ea80[_0x257869(0x202)]})[_0x257869(0x1cc)](()=>{const _0x249645=_0x257869;_0x2d8cdb[_0x249645(0x204)](),datamodelUtil['write'](_0xb86eae,()=>_0x5792e7[_0x249645(0x221)](0xc8)[_0x249645(0x1de)]({'id':_0x56ea80['id'],'state':_0x56ea80,'nodetype':_['find'](_0xb86eae[_0x249645(0x22f)],{'name':_0x2aad50})}),_0x371e4a=>_0x5792e7[_0x249645(0x221)](0x1f4)[_0x249645(0x1c2)](dmValidationError(_0x371e4a)),{'section':_0x249645(0x22f),'name':_0x2aad50});})[_0x257869(0x25f)](_0x5bccb8=>{const _0x54ccba=_0x257869;console[_0x54ccba(0x1f5)](_0x5bccb8),_0x5792e7['status'](0x1f4)['json']({'id':_0x56ea80['id'],'state':_0x56ea80,'nodetype':_['find'](_0xb86eae['nodetypeDefinitions'],{'name':_0x2aad50}),'err':_0x29ce2e});});});},'deleteNodeTypeLcState':(_0x4c1530,_0x4a3c39)=>{const _0x1a9ea5=_0x3f3011,{params:{nodetype:_0x4b5c3f}}=_0x4c1530,_0x4f96c7=_0x4c1530[_0x1a9ea5(0x219)]['id'],_0x202a98=fs[_0x1a9ea5(0x196)](datamodelFile,{'encoding':'utf8','flag':'r+'}),_0x30f3aa=JSON['parse'](_0x202a98),_0x5a1cb8=_['find'](_0x30f3aa[_0x1a9ea5(0x22f)],{'name':_0x4b5c3f});_0x5a1cb8['lifecycle']['transitions']=_[_0x1a9ea5(0x166)](_0x5a1cb8['lifecycle']['transitions'],{'to':_0x4f96c7}),_0x5a1cb8[_0x1a9ea5(0x1cf)][_0x1a9ea5(0x1b0)]=_[_0x1a9ea5(0x166)](_0x5a1cb8[_0x1a9ea5(0x1cf)][_0x1a9ea5(0x1b0)],{'from':_0x4f96c7});const _0x4a8f18=_[_0x1a9ea5(0x23b)](_0x5a1cb8[_0x1a9ea5(0x1cf)][_0x1a9ea5(0x18a)],{'id':_0x4f96c7});if(_0x4a8f18[_0x1a9ea5(0x1c7)]<0x1)return logAndReturn(_0x1a9ea5(0x1e0),!![],_0x4a3c39,0x194,'deleteNodeTypeLcState',_0x1a9ea5(0x25b),_0x1a9ea5(0x171)+_0x4f96c7+_0x1a9ea5(0x192)+_0x4b5c3f);_0x5a1cb8[_0x1a9ea5(0x1cf)][_0x1a9ea5(0x18a)]=_[_0x1a9ea5(0x166)](_0x5a1cb8['lifecycle'][_0x1a9ea5(0x18a)],{'id':_0x4f96c7}),datamodelUtil['write'](_0x30f3aa,()=>{const _0x54d081=_0x1a9ea5;_0x4a3c39['status'](0xc8)[_0x54d081(0x1de)]({'id':_0x4f96c7,'comment':_0x54d081(0x176),'nodetype':_[_0x54d081(0x23b)](_0x30f3aa[_0x54d081(0x22f)],{'name':_0x4b5c3f})});},_0x14fd0e=>_0x4a3c39[_0x1a9ea5(0x221)](0x1f4)[_0x1a9ea5(0x1c2)](dmValidationError(_0x14fd0e)),{'section':_0x1a9ea5(0x22f),'name':_0x4b5c3f});},'addNodeTypeLcTransition':(_0xca57c0,_0x186199)=>{const _0x5d33d4=_0x3f3011,{params:{nodetype:_0x1ffb09}}=_0xca57c0,{body:{transition:_0x38324c}}=_0xca57c0;if(_0x38324c[_0x5d33d4(0x234)]===_0x38324c['to'])return _0x186199['status'](0x193)['json']({'message':'self\x20transition\x20is\x20not\x20allowed'});return fs['readFile'](datamodelFile,{'encoding':_0x5d33d4(0x255)},(_0x439479,_0x325969)=>{const _0x56aacb=_0x5d33d4;if(_0x439479)throw _0x439479;const _0x1e86d8=JSON[_0x56aacb(0x251)](_0x325969),_0x31f37e=_[_0x56aacb(0x23b)](_0x1e86d8[_0x56aacb(0x22f)],{'name':_0x1ffb09}),_0x5952d2=nodeTypeLcTransitionInit;_0x5952d2['id']=_0x56aacb(0x276)+NODEU['v1'](),_0x5952d2['from']=_0x38324c[_0x56aacb(0x234)],_0x5952d2['to']=_0x38324c['to'],!_0x31f37e['lifecycle']&&(_0x31f37e[_0x56aacb(0x1cf)]={'states':[],'transitions':[],'roles':[]}),!_0x31f37e[_0x56aacb(0x1cf)]['transitions']&&(_0x31f37e[_0x56aacb(0x1cf)][_0x56aacb(0x1b0)]=[]),_0x31f37e[_0x56aacb(0x1cf)][_0x56aacb(0x1b0)][_0x56aacb(0x1a4)](_0x5952d2),datamodelUtil[_0x56aacb(0x277)](_0x1e86d8,()=>{const _0x5c9a22=_0x56aacb;_0x186199[_0x5c9a22(0x221)](0xc8)[_0x5c9a22(0x1de)]({'id':_0x5952d2['id'],'transition':_0x5952d2,'nodetype':_[_0x5c9a22(0x23b)](_0x1e86d8[_0x5c9a22(0x22f)],{'name':_0x1ffb09})});},_0x49e0d3=>_0x186199[_0x56aacb(0x221)](0x1f4)[_0x56aacb(0x1c2)](dmValidationError(_0x49e0d3)),{'section':'nodetypeDefinitions','name':_0x1ffb09});}),!![];},'updateNodeTypeLcTransition':(_0xed660a,_0x5853c6)=>{const _0x12af20=_0x3f3011,{nodetype:_0x237bf2}=_0xed660a[_0x12af20(0x219)],{transition:_0x58e2c2}=_0xed660a['body'];_0x58e2c2['id']=_0xed660a[_0x12af20(0x219)]['id'];const {attribute:_0x16614f,newValue:_0x375ab2}=_0x58e2c2;fs[_0x12af20(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x4059d0,_0x58797b)=>{const _0x41037a=_0x12af20;if(_0x4059d0)throw _0x4059d0;const _0x5db336=JSON[_0x41037a(0x251)](_0x58797b),_0x58444c=_0x5db336['nodetypeDefinitions'][_0x41037a(0x23b)](_0x1c9e2c=>_0x1c9e2c[_0x41037a(0x202)]===_0x237bf2),_0x458ab0=_0x58444c[_0x41037a(0x1cf)]['transitions'][_0x41037a(0x23b)](_0xc5df50=>_0xc5df50['id']===_0x58e2c2['id']);if(!_0x458ab0)return logAndReturn('datamodelController.js',!![],_0x5853c6,0x194,_0x41037a(0x174),_0x41037a(0x26f),_0x41037a(0x1d2)+_0x58e2c2['id']+_0x41037a(0x192)+_0x237bf2);_0x458ab0[_0x16614f]=_0x375ab2,datamodelUtil[_0x41037a(0x277)](_0x5db336,()=>{const _0x4dfefa=_0x41037a;_0x5853c6[_0x4dfefa(0x221)](0xc8)[_0x4dfefa(0x1de)]({'id':_0x458ab0['id'],'transition':_0x458ab0,'comment':_0x4dfefa(0x193),'nodetype':_0x58444c});},_0x48f4a1=>_0x5853c6[_0x41037a(0x221)](0x1f4)[_0x41037a(0x1c2)](dmValidationError(_0x48f4a1)),{'section':'nodetypeDefinitions','name':_0x237bf2});});},'deleteNodeTypeLcTransition':(_0x4f217e,_0x2d9ece)=>{const _0x3790cd=_0x3f3011,_0x399942=_0x4f217e[_0x3790cd(0x219)]['id'],{params:{nodetype:_0x49cf57}}=_0x4f217e,_0x52b902=fs[_0x3790cd(0x196)](datamodelFile,{'encoding':_0x3790cd(0x255),'flag':'r+'}),_0x2249a7=JSON[_0x3790cd(0x251)](_0x52b902),_0x39aee0=_[_0x3790cd(0x23b)](_0x2249a7[_0x3790cd(0x22f)],{'name':_0x49cf57}),_0x9930ed=_[_0x3790cd(0x23b)](_0x39aee0['lifecycle']['transitions'],{'id':_0x399942});if(!_0x9930ed)return logAndReturn(_0x3790cd(0x1e0),!![],_0x2d9ece,0x194,_0x3790cd(0x1c0),_0x3790cd(0x26f),_0x3790cd(0x1d2)+_0x399942+_0x3790cd(0x192)+_0x49cf57);_0x39aee0[_0x3790cd(0x1cf)][_0x3790cd(0x1b0)]=_[_0x3790cd(0x166)](_0x39aee0[_0x3790cd(0x1cf)]['transitions'],{'id':_0x399942}),datamodelUtil[_0x3790cd(0x277)](_0x2249a7,()=>{const _0x4b1905=_0x3790cd;_0x2d9ece[_0x4b1905(0x221)](0xc8)[_0x4b1905(0x1de)]({'id':_0x399942,'comment':'transition\x20deleted','nodetype':_[_0x4b1905(0x23b)](_0x2249a7['nodetypeDefinitions'],{'name':_0x49cf57})});},_0x358422=>_0x2d9ece[_0x3790cd(0x221)](0x1f4)['send'](dmValidationError(_0x358422)),{'section':_0x3790cd(0x22f),'name':_0x49cf57});},'editNodetype':(_0x317fcd,_0x2b0826)=>{const _0x449708=_0x3f3011,{nodetype:_0x1df390,nodetypeId:_0x2947f2}=_0x317fcd[_0x449708(0x24a)],_0x455c68=fs[_0x449708(0x196)](datamodelFile,{'encoding':_0x449708(0x255),'flag':'r+'}),_0x4ebf88=JSON[_0x449708(0x251)](_0x455c68),_0x5ecb75=_[_0x449708(0x238)](_0x4ebf88['nodetypeDefinitions'],{'id':_0x2947f2});if(_0x5ecb75===-0x1)return logAndReturn(_0x449708(0x1e0),![],_0x2b0826,0x1f4,'editNodetype',_0x449708(0x205),_0x449708(0x267)+_0x2947f2+'\x20does\x20not\x20exist');_0x4ebf88[_0x449708(0x22f)][_0x5ecb75]=_0x1df390,datamodelUtil[_0x449708(0x277)](_0x4ebf88,()=>_0x2b0826[_0x449708(0x221)](0xc8)[_0x449708(0x1de)](),_0x36a9a3=>_0x2b0826[_0x449708(0x221)](0x1f4)[_0x449708(0x1c2)](dmValidationError(_0x36a9a3)),{'section':_0x449708(0x22f),'name':_0x1df390});},'addNodeTypeAction':(_0x1d5dd8,_0x2ffa3a)=>{const _0x3b3345=_0x3f3011,{nodetype:_0x5448c2}=_0x1d5dd8[_0x3b3345(0x219)],{action:_0x58fb6d}=_0x1d5dd8['body'];fs['readFile'](datamodelFile,{'encoding':_0x3b3345(0x255)},(_0x42d0ca,_0x5f2c12)=>{const _0x2b5cf0=_0x3b3345;if(_0x42d0ca)throw _0x42d0ca;const _0x3789b5=JSON[_0x2b5cf0(0x251)](_0x5f2c12),_0x2e1287=_[_0x2b5cf0(0x23b)](_0x3789b5[_0x2b5cf0(0x22f)],{'name':_0x5448c2});if(_0x2e1287['elementType']!=='node')return logAndReturn(_0x2b5cf0(0x1e0),!![],_0x2ffa3a,0x1f4,_0x2b5cf0(0x1b9),'Cannot\x20add\x20action','Actions\x20can\x20only\x20be\x20added\x20to\x20nodetypes');const _0x1bfe2c={'id':_0x2b5cf0(0x212)+NODEU['v1'](),'name':_0x58fb6d[_0x2b5cf0(0x202)]||_0x2e1287[_0x2b5cf0(0x275)][_0x2b5cf0(0x1c7)],'availableOn':_0x2b5cf0(0x229),'accessLevel':_0x2b5cf0(0x274)};!_0x2e1287[_0x2b5cf0(0x275)]&&(_0x2e1287[_0x2b5cf0(0x275)]=[]),_0x2e1287['actions']['push'](_0x1bfe2c),datamodelUtil[_0x2b5cf0(0x277)](_0x3789b5,()=>{const _0x5b52bd=_0x2b5cf0;return _0x2ffa3a[_0x5b52bd(0x221)](0xc8)['json']({'id':_0x1bfe2c['id'],'newItem':_0x1bfe2c,'nodetype':_[_0x5b52bd(0x23b)](_0x3789b5[_0x5b52bd(0x22f)],{'name':_0x5448c2})});},_0x5a43b9=>_0x2ffa3a[_0x2b5cf0(0x221)](0x1f4)['send'](dmValidationError(_0x5a43b9)),{'section':_0x2b5cf0(0x22f),'name':_0x5448c2});});},'updateNodeTypeAction':(_0x300bbd,_0x353b0e)=>{const _0x5263c9=_0x3f3011,{nodetype:_0x21c9d7,id:_0x594e08}=_0x300bbd[_0x5263c9(0x219)],{action:_0x1aa2c0}=_0x300bbd[_0x5263c9(0x24a)],{attribute:_0x4ce017,value:_0x478954}=_0x1aa2c0;fs['readFile'](datamodelFile,{'encoding':_0x5263c9(0x255)},(_0x1e0717,_0x33a4dc)=>{const _0x5c4cdf=_0x5263c9;if(_0x1e0717)throw _0x1e0717;const _0x44f3ce=JSON[_0x5c4cdf(0x251)](_0x33a4dc),_0x27b47b=_0x44f3ce[_0x5c4cdf(0x22f)][_0x5c4cdf(0x23b)](_0x13333c=>_0x13333c[_0x5c4cdf(0x202)]===_0x21c9d7),_0x58ded9=_0x27b47b[_0x5c4cdf(0x275)][_0x5c4cdf(0x23b)](_0x12f8e4=>_0x12f8e4['id']===_0x594e08);typeof _0x478954==='object'?((!_0x58ded9[_0x4ce017]||typeof _0x58ded9[_0x4ce017]==='string')&&(_0x58ded9[_0x4ce017]={}),Object[_0x5c4cdf(0x189)](_0x478954)[_0x5c4cdf(0x213)](_0x2c60db=>{_0x58ded9[_0x4ce017][_0x2c60db]=_0x478954[_0x2c60db];})):_0x58ded9[_0x4ce017]=_0x478954,datamodelUtil['write'](_0x44f3ce,()=>_0x353b0e[_0x5c4cdf(0x221)](0xc8)['json']({'id':_0x594e08,'comment':'Nodetype\x20Action\x20Updated','property':_0x58ded9,'nodetype':_0x27b47b}),_0x456e56=>_0x353b0e[_0x5c4cdf(0x221)](0x1f4)[_0x5c4cdf(0x1c2)](dmValidationError(_0x456e56)),{'section':_0x5c4cdf(0x22f),'name':_0x21c9d7});});},'deleteNodeTypeAction':(_0x281b4b,_0x365486)=>{const _0x4994c1=_0x3f3011,{nodetype:_0x2f762a,id:_0x422888}=_0x281b4b[_0x4994c1(0x219)],_0x2ef782=fs[_0x4994c1(0x196)](datamodelFile,{'encoding':'utf8','flag':'r+'}),_0x5f5208=JSON[_0x4994c1(0x251)](_0x2ef782),_0x2782a4=_[_0x4994c1(0x23b)](_0x5f5208['nodetypeDefinitions'],{'name':_0x2f762a}),_0x5b3150=_[_0x4994c1(0x23b)](_0x2782a4[_0x4994c1(0x275)],{'id':_0x422888});if(!_0x5b3150)return logAndReturn(_0x4994c1(0x1e0),!![],_0x365486,0x1f4,_0x4994c1(0x1b5),_0x4994c1(0x1ca),_0x4994c1(0x1ad)+_0x422888+_0x4994c1(0x192)+_0x2f762a);_0x2782a4['actions']=_['reject'](_0x2782a4['actions'],{'id':_0x422888}),datamodelUtil[_0x4994c1(0x277)](_0x5f5208,()=>{const _0x3107e9=_0x4994c1;_0x365486[_0x3107e9(0x221)](0xc8)[_0x3107e9(0x1de)]({'item':_[_0x3107e9(0x23b)](_0x5f5208[_0x3107e9(0x22f)],{'name':_0x2f762a})});},_0x606675=>_0x365486[_0x4994c1(0x221)](0x1f4)[_0x4994c1(0x1c2)](dmValidationError(_0x606675)),{'section':_0x4994c1(0x22f),'name':_0x2f762a});},'addMethod':(_0x475178,_0x34fdc2)=>{const _0x1efac0=_0x3f3011,{user:_0x50b30d}=_0x475178;let {name:_0x23600d}=_0x475178['body'];_0x23600d=_0x23600d[_0x1efac0(0x268)](/[^A-Z0-9]/ig,'');if(!_0x23600d)return logAndReturn('datamodelController.js',![],_0x34fdc2,0x1f4,_0x1efac0(0x1a7),_0x1efac0(0x1c4),'Name\x20is\x20required');const _0x2054d0={'id':_0x50b30d[_0x1efac0(0x23c)],'name':_0x50b30d[_0x1efac0(0x258)][_0x1efac0(0x202)]},_0x27f0e5=Date[_0x1efac0(0x26a)]();let _0x2256ef=new Date();const _0x1a1538=String(_0x2256ef[_0x1efac0(0x17d)]())[_0x1efac0(0x185)](0x2,'0'),_0x3b2b40=String(_0x2256ef[_0x1efac0(0x22e)]()+0x1)['padStart'](0x2,'0'),_0x4c36c2=_0x2256ef[_0x1efac0(0x231)]();_0x2256ef=_0x3b2b40+'-'+_0x1a1538+'-'+_0x4c36c2,fs[_0x1efac0(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x350526,_0x1bd4f3)=>{const _0x4bc077=_0x1efac0;if(_0x350526)throw _0x350526;const _0x3f2787=JSON[_0x4bc077(0x251)](_0x1bd4f3),_0xc2f62a={'id':'method_'+NODEU['v1'](),'package':_0x4bc077(0x1b3),'name':_0x23600d,'serverOrClient':_0x4bc077(0x160),'createdOn':_0x27f0e5,'createdBy':_0x2054d0,'code':_0x4bc077(0x266)+_0x23600d+'\x0a\x20\x20Created\x20On\x20\x20:\x20'+_0x2256ef+'\x20('+_0x27f0e5+_0x4bc077(0x1fe)+_0x50b30d[_0x4bc077(0x202)]+_0x4bc077(0x20e)};_0x3f2787[_0x4bc077(0x240)][_0x4bc077(0x1a4)](_0xc2f62a),datamodelUtil[_0x4bc077(0x277)](_0x3f2787,()=>{const _0x119ca7=_0x4bc077,_0x5acaf7=CustomMethods[_0x119ca7(0x167)]();if(_0x5acaf7[_0x119ca7(0x1f5)])return _0x34fdc2[_0x119ca7(0x221)](0x1f4)[_0x119ca7(0x1c2)](_0x5acaf7);return _0x34fdc2[_0x119ca7(0x221)](0xc8)['json']({'id':_0xc2f62a['id'],'newMethod':_0xc2f62a,'error':![]});},_0x10032f=>_0x34fdc2['status'](0x1f4)[_0x4bc077(0x1c2)](dmValidationError(_0x10032f)),{'section':'methods','name':_0x23600d});});},'updateMethod':(_0x2c8739,_0x4a4d36)=>{const _0x316490=_0x3f3011,{user:_0x15f4ad}=_0x2c8739,{method:_0x47d23c}=_0x2c8739[_0x316490(0x24a)],{id:_0x43c2e2}=_0x2c8739[_0x316490(0x219)],{code:_0x129515,serverOrClient:_0xe59cd1}=_0x47d23c,_0x5c79f8=_0x47d23c[_0x316490(0x1be)];let {name:_0x4dabfb}=_0x47d23c;if(!_0x4dabfb)return logAndReturn(_0x316490(0x1e0),!![],_0x4a4d36,0x1f4,_0x316490(0x20b),'Method\x20Name\x20not\x20provided',_0x316490(0x1e1));fs[_0x316490(0x1f9)](datamodelFile,{'encoding':_0x316490(0x255)},(_0x52a8a9,_0x38f150)=>{const _0x29d52e=_0x316490;if(_0x52a8a9)throw _0x52a8a9;const _0x4aac6d=JSON['parse'](_0x38f150),_0x452bcd=_[_0x29d52e(0x23b)](_0x4aac6d[_0x29d52e(0x240)],{'id':_0x43c2e2});if(!_0x452bcd)return logAndReturn(_0x29d52e(0x1e0),!![],_0x4a4d36,0x1f4,_0x29d52e(0x20b),_0x29d52e(0x235),_0x29d52e(0x1dd)+_0x43c2e2+_0x29d52e(0x18e));const _0x2cbbbe=_0x452bcd[_0x29d52e(0x202)];_0x5c79f8&&(_0x452bcd[_0x29d52e(0x1be)]=_0x5c79f8),_0x129515&&(_0x452bcd[_0x29d52e(0x211)]=_0x129515),_0x4dabfb&&(_0x452bcd[_0x29d52e(0x202)]=_0x4dabfb,_0x2cbbbe!==_0x4dabfb&&(_0x4dabfb=_0x4dabfb[_0x29d52e(0x268)](/[^A-Z0-9]/ig,''),fs[_0x29d52e(0x1e4)](datamodelFolder+'dm/methods/'+_0x2cbbbe+_0x29d52e(0x1d4)),_0x4aac6d['nodetypeDefinitions']['forEach'](_0x21ea90=>{const _0x57cd8b=_0x29d52e;let _0x5406e4=![];_0x21ea90[_0x57cd8b(0x240)]&&_0x21ea90[_0x57cd8b(0x240)][_0x57cd8b(0x213)](_0x9f3cae=>{const _0x489359=_0x57cd8b;_0x9f3cae['method']===_0x2cbbbe&&(_0x9f3cae[_0x489359(0x202)]=_0x4dabfb,_0x5406e4=!![]);}),_0x21ea90[_0x57cd8b(0x275)]&&_0x21ea90[_0x57cd8b(0x275)]['forEach'](_0x19c6ee=>{const _0x15f4a6=_0x57cd8b;_0x19c6ee[_0x15f4a6(0x1db)]===_0x2cbbbe&&(_0x19c6ee[_0x15f4a6(0x1db)]=_0x4dabfb,_0x5406e4=!![]);}),_0x5406e4&&datamodelUtil[_0x57cd8b(0x277)](_0x4aac6d,()=>{},_0xbb40d5=>{const _0x29cc54=_0x57cd8b;console[_0x29cc54(0x1f5)](_0xbb40d5);},{'section':'nodetypeDefinitions','name':_0x21ea90[_0x57cd8b(0x202)]});}))),_0xe59cd1&&(_0x452bcd['serverOrClient']=_0xe59cd1),_0x452bcd[_0x29d52e(0x278)]=Date[_0x29d52e(0x26a)](),_0x452bcd[_0x29d52e(0x1c5)]={'id':_0x15f4ad[_0x29d52e(0x23c)],'name':_0x15f4ad[_0x29d52e(0x202)]},datamodelUtil[_0x29d52e(0x277)](_0x4aac6d,()=>{const _0x5b4f81=_0x29d52e,_0x15b78b=CustomMethods[_0x5b4f81(0x167)]();if(_0x15b78b[_0x5b4f81(0x1f5)])return _0x4a4d36[_0x5b4f81(0x221)](0x1f4)[_0x5b4f81(0x1c2)](_0x15b78b);return _0x4a4d36[_0x5b4f81(0x221)](0xc8)[_0x5b4f81(0x1de)]({'id':_0x43c2e2,'updatedMethod':_0x452bcd,'error':![]});},_0x8740eb=>_0x4a4d36[_0x29d52e(0x221)](0x1f4)['send'](dmValidationError(_0x8740eb)),{'section':_0x29d52e(0x240),'name':_0x452bcd[_0x29d52e(0x202)]});});},'deleteMethod':(_0x1de7df,_0x202324)=>{const _0x5c489b=_0x3f3011,{id:_0x4feaab}=_0x1de7df[_0x5c489b(0x219)];fs[_0x5c489b(0x1f9)](datamodelFile,{'encoding':'utf8'},(_0x11a9ac,_0x11cb05)=>{const _0x4fd40a=_0x5c489b;if(_0x11a9ac)throw _0x11a9ac;const _0x55a98e=JSON['parse'](_0x11cb05),_0x1549ca=_0x55a98e[_0x4fd40a(0x240)][_0x4fd40a(0x23b)](_0x3e9877=>_0x3e9877['id']===_0x4feaab);if(!_0x1549ca)return logAndReturn(_0x4fd40a(0x1e0),!![],_0x202324,0x1f4,'deleteMethod',_0x4fd40a(0x235),'Method\x20with\x20id:\x20'+_0x4feaab+'\x20does\x20not\x20exist');_0x55a98e[_0x4fd40a(0x240)]=_[_0x4fd40a(0x166)](_0x55a98e[_0x4fd40a(0x240)],{'id':_0x4feaab}),datamodelUtil[_0x4fd40a(0x277)](_0x55a98e,()=>{const _0x97a62b=_0x4fd40a;fs[_0x97a62b(0x1e4)](datamodelFolder+_0x97a62b(0x175)+_0x1549ca[_0x97a62b(0x202)]+_0x97a62b(0x1d4));const _0x409071=CustomMethods[_0x97a62b(0x167)]();if(_0x409071[_0x97a62b(0x1f5)])return _0x202324[_0x97a62b(0x221)](0x1f4)['send'](_0x409071);return _0x202324[_0x97a62b(0x221)](0xc8)[_0x97a62b(0x1de)]({'id':_0x4feaab,'error':![]});},_0x34806b=>_0x202324[_0x4fd40a(0x221)](0x1f4)[_0x4fd40a(0x1c2)](dmValidationError(_0x34806b)),{'section':_0x4fd40a(0x240)});});},'addReport':(_0x17f62c,_0x379b33)=>{const _0x2ef682=_0x3f3011,{name:_0x4a06c1,packageId:_0x1541f0,items:_0x169f4d}=_0x17f62c['body'];if(!_0x4a06c1)return logAndReturn(_0x2ef682(0x1e0),![],_0x379b33,0x1f4,_0x2ef682(0x19d),_0x2ef682(0x1c4),_0x2ef682(0x1f4));fs['readFile'](datamodelFile,{'encoding':_0x2ef682(0x255)},(_0x3e7a51,_0x5956be)=>{const _0x4c0449=_0x2ef682;if(_0x3e7a51)throw _0x3e7a51;let _0x414d25={};try{_0x414d25=JSON[_0x4c0449(0x251)](_0x5956be);}catch(_0x4d9c8d){return logAndReturn(_0x4c0449(0x1e0),!![],_0x379b33,0x1f4,_0x4c0449(0x19d),_0x4c0449(0x21e),_0x4c0449(0x1ce));}const _0xe88c35={'id':_0x4c0449(0x1ac)+NODEU['v1'](),'name':_0x4a06c1,'items':_0x169f4d||[],'package':_0x1541f0||_0x4c0449(0x1b3)};if(!_0x414d25[_0x4c0449(0x210)])_0x414d25[_0x4c0449(0x210)]=[];_0x414d25['reports']['push'](_0xe88c35);const _0x4b133e=validateDatamodelSchema(_0x414d25);if(!_0x4b133e[_0x4c0449(0x183)])return logAndReturn('datamodelController.js',!![],_0x379b33,0x1f4,_0x4c0449(0x19d),'Schema\x20Validation\x20Error',_0x4b133e[_0x4c0449(0x195)]);datamodelUtil[_0x4c0449(0x277)](_0x414d25,()=>{const _0x36857f=_0x4c0449;_0x379b33[_0x36857f(0x221)](0xc8)[_0x36857f(0x1de)]({'id':_0xe88c35['id'],'newReport':_0xe88c35});},_0x511a33=>_0x379b33[_0x4c0449(0x221)](0x1f4)[_0x4c0449(0x1c2)](dmValidationError(_0x511a33)),{'section':_0x4c0449(0x210),'name':_0x4a06c1});});},'updateReport':(_0x243acc,_0x2e810d)=>{const _0x1d7e9b=_0x3f3011,{report:_0x5c31bd}=_0x243acc[_0x1d7e9b(0x24a)];fs[_0x1d7e9b(0x1f9)](datamodelFile,{'encoding':_0x1d7e9b(0x255)},(_0x28808a,_0x22e4d8)=>{const _0x3ac154=_0x1d7e9b;if(_0x28808a)throw _0x28808a;const _0x45fcb3=JSON['parse'](_0x22e4d8);let _0x10ab5c=_[_0x3ac154(0x23b)](_0x45fcb3['reports'],{'id':_0x5c31bd['id']});_0x5c31bd[_0x3ac154(0x1be)]&&(_0x10ab5c[_0x3ac154(0x1be)]=_0x5c31bd[_0x3ac154(0x1be)]);_0x10ab5c=Object[_0x3ac154(0x17e)](_0x10ab5c,_0x5c31bd);const _0x9fa895=validateDatamodelSchema(_0x45fcb3);if(!_0x9fa895['valid'])return logAndReturn('datamodelController.js',!![],_0x2e810d,0x1f4,_0x3ac154(0x1bf),_0x3ac154(0x177),_0x9fa895[_0x3ac154(0x195)]);datamodelUtil[_0x3ac154(0x277)](_0x45fcb3,()=>{const _0x263aac=_0x3ac154;_0x2e810d[_0x263aac(0x221)](0xc8)[_0x263aac(0x1de)]({'id':_0x10ab5c['id'],'report':_0x10ab5c});},_0x3f1105=>_0x2e810d[_0x3ac154(0x221)](0x1f4)[_0x3ac154(0x1c2)](dmValidationError(_0x3f1105)),{'section':_0x3ac154(0x210),'name':_0x10ab5c[_0x3ac154(0x202)]});});},'deleteReport':(_0x86c9bf,_0x180bdd)=>{const _0x506b32=_0x3f3011,_0x47435c=_0x86c9bf['params']['id'];fs[_0x506b32(0x1f9)](datamodelFile,{'encoding':_0x506b32(0x255)},(_0x2eec60,_0x19342c)=>{const _0x2e9e42=_0x506b32;if(_0x2eec60)throw _0x2eec60;const _0x24ad77=JSON[_0x2e9e42(0x251)](_0x19342c),_0x51bd83=_0x24ad77[_0x2e9e42(0x210)]['find'](_0x4f3adb=>_0x4f3adb['id']===_0x47435c);if(!_0x51bd83)return logAndReturn('datamodelController.js',!![],_0x180bdd,0x1f4,_0x2e9e42(0x228),'Report\x20does\x20not\x20exist',_0x2e9e42(0x1d5)+_0x47435c+_0x2e9e42(0x18e));_0x24ad77[_0x2e9e42(0x210)]=_[_0x2e9e42(0x166)](_0x24ad77[_0x2e9e42(0x210)],{'id':_0x47435c}),_0x24ad77[_0x2e9e42(0x22f)][_0x2e9e42(0x217)](_0x24458e=>_0x24458e[_0x2e9e42(0x258)][_0x2e9e42(0x217)](_0x5e588a=>{const _0xe7cead=_0x2e9e42;_0x5e588a[_0xe7cead(0x262)]===_0x51bd83['name']&&(delete _0x5e588a[_0xe7cead(0x262)],_0x5e588a[_0xe7cead(0x254)]=_0xe7cead(0x173));}));const _0x135ff6=validateDatamodelSchema(_0x24ad77);if(!_0x135ff6[_0x2e9e42(0x183)])return logAndReturn(_0x2e9e42(0x1e0),!![],_0x180bdd,0x1f4,_0x2e9e42(0x228),'Schema\x20Validation\x20Error',_0x135ff6[_0x2e9e42(0x195)]);datamodelUtil[_0x2e9e42(0x277)](_0x24ad77,()=>{const _0x5bd9a8=_0x2e9e42;fs[_0x5bd9a8(0x1e4)](datamodelFolder+_0x5bd9a8(0x260)+_0x51bd83[_0x5bd9a8(0x202)]+_0x5bd9a8(0x222)),_0x180bdd['status'](0xc8)['json']({'success':!![],'id':_0x47435c});},_0x3c2e33=>_0x180bdd['status'](0x1f4)['send'](dmValidationError(_0x3c2e33)),{'section':_0x2e9e42(0x210)});});},'addLovs':(_0x18c536,_0x33eddd)=>{const _0x1c9bd8=_0x3f3011,{name:_0x237377,packageId:_0xd49c14,items:_0x10bec4}=_0x18c536[_0x1c9bd8(0x24a)];if(!_0x237377)return logAndReturn(_0x1c9bd8(0x1e0),![],_0x33eddd,0x1f4,_0x1c9bd8(0x1a5),_0x1c9bd8(0x1c4),_0x1c9bd8(0x1f4));fs['readFile'](datamodelFile,{'encoding':'utf8'},(_0x2f38fe,_0x48622c)=>{const _0x36e8b9=_0x1c9bd8;if(_0x2f38fe)throw _0x2f38fe;let _0x1b15fe={};try{_0x1b15fe=JSON[_0x36e8b9(0x251)](_0x48622c);}catch(_0x18a52a){return logAndReturn('datamodelController.js',!![],_0x33eddd,0x1f4,'addLovs',_0x36e8b9(0x21e),'Cannot\x20parse\x20datamodel\x20file');}const _0x41c396={'id':_0x36e8b9(0x21a)+NODEU['v1'](),'name':_0x237377,'items':_0x10bec4||[],'package':_0xd49c14||_0x36e8b9(0x1b3)};_0x1b15fe[_0x36e8b9(0x22c)][_0x36e8b9(0x1a4)](_0x41c396),datamodelUtil['write'](_0x1b15fe,()=>{const _0x51d663=_0x36e8b9;_0x33eddd[_0x51d663(0x221)](0xc8)[_0x51d663(0x1de)]({'id':_0x41c396['id'],'newLovs':_0x41c396});},_0x214a3c=>_0x33eddd[_0x36e8b9(0x221)](0x1f4)['send'](dmValidationError(_0x214a3c)),{'section':_0x36e8b9(0x22c)});});},'updateLovs':(_0x1b7340,_0x2aa1d3)=>{const _0x38d987=_0x3f3011,{lov:_0x79b928}=_0x1b7340[_0x38d987(0x24a)];fs[_0x38d987(0x1f9)](datamodelFile,{'encoding':_0x38d987(0x255)},(_0x19aec,_0x21bd16)=>{const _0x5a24c7=_0x38d987;if(_0x19aec)throw _0x19aec;const _0x1bd2c3=JSON[_0x5a24c7(0x251)](_0x21bd16),_0x368868=_['find'](_0x1bd2c3[_0x5a24c7(0x22c)],{'id':_0x79b928['id']});_0x79b928['package']&&(_0x368868[_0x5a24c7(0x1be)]=_0x79b928['package']),_0x368868[_0x5a24c7(0x17a)]=_0x79b928[_0x5a24c7(0x17a)],_0x1bd2c3['nodetypeDefinitions']['filter'](_0x1038b8=>_0x1038b8[_0x5a24c7(0x258)]['findIndex'](_0x2c773d=>_0x2c773d[_0x5a24c7(0x262)]===_0x79b928[_0x5a24c7(0x202)])!==-0x1)[_0x5a24c7(0x217)](_0x9686fd=>{const _0x2b83f0=_0x5a24c7,_0x14253c=generateForm[_0x2b83f0(0x243)](_0x9686fd),_0x5ac662=generateForm['buildNGForm'](_0x9686fd,_0x1bd2c3,_0x2b83f0(0x22f));_[_0x2b83f0(0x1f2)](_0x9686fd,_0x2b83f0(0x162),{'schema':_0x14253c,'form':_0x5ac662});}),datamodelUtil[_0x5a24c7(0x277)](_0x1bd2c3,()=>{const _0x2453a1=_0x5a24c7;_0x2aa1d3[_0x2453a1(0x221)](0xc8)[_0x2453a1(0x1de)]({'id':_0x368868['id'],'newLovs':_0x368868});},_0x4ae021=>_0x2aa1d3['status'](0x1f4)[_0x5a24c7(0x1c2)](dmValidationError(_0x4ae021)),{'section':_0x5a24c7(0x22c)});});},'deleteLovs':(_0x3e4ec1,_0x2e2db2)=>{const _0x446cca=_0x3f3011,_0x4412c7=_0x3e4ec1[_0x446cca(0x219)]['id'];fs[_0x446cca(0x1f9)](datamodelFile,{'encoding':_0x446cca(0x255)},(_0x384600,_0x17f3de)=>{const _0x42e056=_0x446cca;if(_0x384600)throw _0x384600;const _0x3ad930=JSON[_0x42e056(0x251)](_0x17f3de),_0xedd9ed=_0x3ad930[_0x42e056(0x22c)]['find'](_0x47094c=>_0x47094c['id']===_0x4412c7);if(!_0xedd9ed)return logAndReturn('datamodelController.js',!![],_0x2e2db2,0x1f4,_0x42e056(0x17f),_0x42e056(0x1b1),_0x42e056(0x186)+_0x4412c7+_0x42e056(0x18e));_0x3ad930['listOfValues']=_[_0x42e056(0x166)](_0x3ad930[_0x42e056(0x22c)],{'id':_0x4412c7}),_0x3ad930[_0x42e056(0x22f)][_0x42e056(0x217)](_0x3edf09=>_0x3edf09[_0x42e056(0x258)][_0x42e056(0x217)](_0x1f5bff=>{const _0x120157=_0x42e056;_0x1f5bff[_0x120157(0x262)]===_0xedd9ed[_0x120157(0x202)]&&(delete _0x1f5bff[_0x120157(0x262)],_0x1f5bff[_0x120157(0x254)]='string');})),datamodelUtil[_0x42e056(0x277)](_0x3ad930,()=>{const _0x2733d2=_0x42e056;_0x2e2db2[_0x2733d2(0x221)](0xc8)[_0x2733d2(0x1de)]({'success':!![],'id':_0x4412c7});},_0x750bb0=>_0x2e2db2[_0x42e056(0x221)](0x1f4)[_0x42e056(0x1c2)](dmValidationError(_0x750bb0)),{'section':_0x42e056(0x22c)});});},'updateCategories':(_0xa02868,_0x21961e)=>{const _0x3a6025=_0x3f3011,{body:{categories:_0x26bda}}=_0xa02868;fs['readFile'](datamodelFile,{'encoding':_0x3a6025(0x255)},(_0x89f888,_0x1dbb3f)=>{const _0x4feb2f=_0x3a6025;if(_0x89f888)throw _0x89f888;const _0x5484fd=JSON['parse'](_0x1dbb3f);_0x5484fd[_0x4feb2f(0x19e)]=_0x26bda,datamodelUtil[_0x4feb2f(0x277)](_0x5484fd,()=>{const _0x2f96b6=_0x4feb2f;_0x21961e[_0x2f96b6(0x221)](0xc8)[_0x2f96b6(0x1de)](_0x26bda);},_0x18e711=>_0x21961e[_0x4feb2f(0x221)](0x1f4)[_0x4feb2f(0x1c2)](dmValidationError(_0x18e711)),{'section':_0x4feb2f(0x19e)});});},'updateElement':(_0x21c0fc,_0x52de26)=>{const _0x59b114=_0x3f3011,_0x1a975d=_0x21c0fc[_0x59b114(0x24a)][_0x59b114(0x26c)],_0x4494b6=_0x21c0fc[_0x59b114(0x24a)][_0x59b114(0x1ba)],{params:{nodetype:_0x4bca76}}=_0x21c0fc;fs[_0x59b114(0x1f9)](datamodelFile,{'encoding':_0x59b114(0x255)},(_0x1352dd,_0x14d413)=>{const _0xecb092=_0x59b114;if(_0x1352dd)throw _0x1352dd;const _0x185707=JSON[_0xecb092(0x251)](_0x14d413),_0x2f76bc=_['find'](_0x185707[_0xecb092(0x22f)],{'name':_0x4bca76});_[_0xecb092(0x1f2)](_0x2f76bc,_0x1a975d,_0x4494b6),datamodelUtil[_0xecb092(0x277)](_0x185707,()=>{const _0x592d38=_0xecb092;_0x52de26[_0x592d38(0x221)](0xc8)[_0x592d38(0x1de)]({'item':_['find'](_0x185707[_0x592d38(0x22f)],{'name':_0x4bca76})});},_0x267d7f=>_0x52de26[_0xecb092(0x221)](0x1f4)[_0xecb092(0x1c2)](dmValidationError(_0x267d7f)),{'section':_0xecb092(0x22f),'name':_0x4bca76});});},'updateNodetypeFormDefinition':(_0x24bf03,_0x40c8a0)=>{const _0x5667db=_0x3f3011,{nodetype:_0x26ab97}=_0x24bf03[_0x5667db(0x219)],{definition:_0x49ea69,labelCase:_0x1416eb}=_0x24bf03[_0x5667db(0x24a)],_0x38c94d=fs[_0x5667db(0x196)](datamodelFile,{'encoding':'utf8'});try{const _0x9025d1=JSON['parse'](_0x38c94d),_0x4f1330=_[_0x5667db(0x23b)](_0x9025d1[_0x5667db(0x22f)],{'name':_0x26ab97});_[_0x5667db(0x1f2)](_0x4f1330,_0x5667db(0x22b),_0x49ea69);_0x1416eb&&_['set'](_0x4f1330,_0x5667db(0x19c),_0x1416eb);const _0x3863de=generateForm[_0x5667db(0x243)](_0x4f1330),_0x415834=generateForm[_0x5667db(0x261)](_0x4f1330,_0x9025d1,_0x5667db(0x22f));_['set'](_0x4f1330,'ui.form.ng',{'schema':_0x3863de,'form':_0x415834}),datamodelUtil['write'](_0x9025d1,()=>{const _0xb8cecf=_0x5667db;_0x40c8a0[_0xb8cecf(0x221)](0xc8)['json']({'item':_[_0xb8cecf(0x23b)](_0x9025d1[_0xb8cecf(0x22f)],{'name':_0x26ab97})});},_0x56a2db=>_0x40c8a0[_0x5667db(0x221)](0x1f4)[_0x5667db(0x1c2)](dmValidationError(_0x56a2db)),{'section':_0x5667db(0x22f),'name':_0x26ab97});}catch(_0x4fa6f8){console[_0x5667db(0x1f5)]('updateNodetypeFormDefinition',_0x4fa6f8),_0x40c8a0['status'](0x1f4);}},'updateExternalAPI':(_0x7a23be,_0xf329bf)=>{const _0x4feb2a=_0x3f3011,{nodetype:_0x40e930}=_0x7a23be[_0x4feb2a(0x219)],{enabled:_0x3f5b76,mapping:_0x53de42,name:_0x4e6e81}=_0x7a23be['body'];fs[_0x4feb2a(0x1f9)](datamodelFile,{'encoding':_0x4feb2a(0x255)},(_0x5b6633,_0x348ab9)=>{const _0x11e7f5=_0x4feb2a;if(_0x5b6633)throw _0x5b6633;const _0x2a5813=JSON[_0x11e7f5(0x251)](_0x348ab9),_0x225c33=_['find'](_0x2a5813[_0x11e7f5(0x22f)],{'name':_0x40e930}),_0x85a8f5=_[_0x11e7f5(0x18d)](_0x225c33,_0x11e7f5(0x1bd),[]),_0x41ac8f=_0x85a8f5[_0x11e7f5(0x23b)](_0x2df1b1=>_0x2df1b1['name']===_0x4e6e81);!_0x41ac8f&&_0x85a8f5[_0x11e7f5(0x1a4)]({'name':_0x4e6e81,'enabled':_0x3f5b76,'mapping':_0x53de42}),_0x41ac8f&&(_0x41ac8f['name']=_0x4e6e81,_0x41ac8f[_0x11e7f5(0x1f7)]=_0x3f5b76,_0x41ac8f[_0x11e7f5(0x25a)]=_0x53de42),_[_0x11e7f5(0x1f2)](_0x225c33,'externalAPIs',_0x85a8f5),datamodelUtil[_0x11e7f5(0x277)](_0x2a5813,()=>{const _0x478450=_0x11e7f5;_0xf329bf[_0x478450(0x221)](0xc8)['json']({'nodetype':_[_0x478450(0x23b)](_0x2a5813[_0x478450(0x22f)],{'name':_0x40e930})});},_0x16a254=>_0xf329bf[_0x11e7f5(0x221)](0x1f4)[_0x11e7f5(0x1c2)](dmValidationError(_0x16a254)),{'section':_0x11e7f5(0x22f),'name':_0x40e930});});},'getInfoDataFormDefinition':(_0x329668,_0x3544f0)=>{const _0xac89e6=_0x3f3011,{nodetype:_0x23cb42}=_0x329668[_0xac89e6(0x219)];fs[_0xac89e6(0x1f9)](datamodelFile,{'encoding':_0xac89e6(0x255)},(_0x56a144,_0x498c90)=>{const _0xb04549=_0xac89e6;if(_0x56a144)throw _0x56a144;const _0x4510fd=JSON[_0xb04549(0x251)](_0x498c90),_0x2391eb=_[_0xb04549(0x23b)](_0x4510fd[_0xb04549(0x22f)],{'name':_0x23cb42}),_0x542658=generateForm[_0xb04549(0x1b2)](_0x2391eb,_0x4510fd);return _0x3544f0[_0xb04549(0x221)](0xc8)[_0xb04549(0x1c2)](_0x542658);});},'patchDatamodel':(_0x30c557,_0x3d072)=>{const _0x15107c=_0x3f3011,{body:{patch:_0x1b7e22}}=_0x30c557;fs[_0x15107c(0x1f9)](datamodelFile,{'encoding':_0x15107c(0x255)},(_0xf78ed5,_0x293bd1)=>{const _0x30aceb=_0x15107c;if(_0xf78ed5)throw _0xf78ed5;const _0x2b8f9f=JSON[_0x30aceb(0x251)](_0x293bd1);let _0x599abe;if(Array[_0x30aceb(0x215)](_0x1b7e22)){const _0x5a890c=jsonpatch['validate'](_0x1b7e22,_0x2b8f9f);if(_0x5a890c)return logAndReturn('datamodelController.js',!![],_0x3d072,0x1f4,'patchDatamodel',_0x30aceb(0x1b1),_0x5a890c[_0x30aceb(0x1d6)](','));_0x599abe=jsonpatch[_0x30aceb(0x236)](_0x2b8f9f,_0x1b7e22)['newDocument'];}else{if(typeof _0x1b7e22===_0x30aceb(0x1e7))_0x599abe=jsonpatch['applyOperation'](_0x2b8f9f,_0x1b7e22)['newDocument'];else return logAndReturn(_0x30aceb(0x1e0),!![],_0x3d072,0x1f4,_0x30aceb(0x257),'Patch\x20Datamodel\x20Error',_0x30aceb(0x199));}datamodelUtil[_0x30aceb(0x277)](_0x2b8f9f,()=>{const _0x2adbb1=_0x30aceb;_0x3d072['status'](0xc8)[_0x2adbb1(0x1de)]({'datamodel':_0x2b8f9f});},_0x27ce18=>_0x3d072[_0x30aceb(0x221)](0x1f4)[_0x30aceb(0x1c2)](dmValidationError(_0x27ce18)));});},'getdmPackagesfileNames':(_0x517c99,_0x14705d)=>{const _0x42d2c3=_0x3f3011;let _0x3756df=[];try{const _0x437334=fs['readFileSync'](datamodelFolder+_0x42d2c3(0x1fc));_0x3756df=JSON[_0x42d2c3(0x251)](_0x437334);}catch(_0x45817c){return _0x14705d[_0x42d2c3(0x221)](0x194)[_0x42d2c3(0x1c2)](_0x45817c['message']);}const _0x30238a=_0x3756df['map'](_0x12aed7=>_0x12aed7[_0x42d2c3(0x202)]);return _0x14705d[_0x42d2c3(0x221)](0xc8)[_0x42d2c3(0x1c2)](_0x30238a);},'generateGanisterDatamodel':async(_0x2f4ebd,_0x2cb2d1)=>{const _0x5bc49d=_0x3f3011,_0x54482d=datamodelMethods[_0x5bc49d(0x1e9)]();if(!_0x54482d[_0x5bc49d(0x1f5)])return _0x2cb2d1[_0x5bc49d(0x221)](0xc8)[_0x5bc49d(0x1c2)](!![]);return _0x2cb2d1[_0x5bc49d(0x221)](_0x54482d[_0x5bc49d(0x211)])[_0x5bc49d(0x1c2)](_0x54482d[_0x5bc49d(0x1ec)]);},'updateDmPackagesFromDatamodel':(_0x48c940,_0x1838a5)=>{const _0x29bf9d=_0x3f3011,{token:_0x457ae3}=_0x48c940[_0x29bf9d(0x24a)];if(_0x457ae3!==_0x29bf9d(0x1a2))return _0x1838a5['status'](0x193)[_0x29bf9d(0x1c2)](_0x29bf9d(0x206));fs['readFile'](datamodelFile,{'encoding':_0x29bf9d(0x255)},(_0x165a3a,_0x4f4b0f)=>{const _0x14aed0=_0x29bf9d;if(_0x165a3a)throw _0x165a3a;const _0x2a3849=JSON[_0x14aed0(0x251)](_0x4f4b0f);return _0x2a3849[_0x14aed0(0x1d9)][_0x14aed0(0x217)](_0x304b22=>{const _0x4257ed=_0x14aed0;if(!_0x2a3849['reports'])_0x2a3849[_0x4257ed(0x210)]=[];const _0x4cb608={'id':_0x304b22['id'],'name':_0x304b22[_0x4257ed(0x202)],'label':_0x304b22[_0x4257ed(0x245)],'dependencies':_0x304b22[_0x4257ed(0x182)],'nodetypeDefinitions':_0x2a3849[_0x4257ed(0x22f)][_0x4257ed(0x237)](_0x211fe8=>_0x211fe8[_0x4257ed(0x1be)]===_0x304b22['id']),'methods':_0x2a3849[_0x4257ed(0x240)][_0x4257ed(0x237)](_0x2cc171=>_0x2cc171[_0x4257ed(0x1be)]===_0x304b22['id']),'listOfValues':_0x2a3849[_0x4257ed(0x22c)][_0x4257ed(0x237)](_0x47ea37=>_0x47ea37[_0x4257ed(0x1be)]===_0x304b22['id']),'reports':_0x2a3849['reports'][_0x4257ed(0x237)](_0x37dc51=>_0x37dc51[_0x4257ed(0x1be)]===_0x304b22['id'])};_0x4cb608[_0x4257ed(0x22f)][_0x4257ed(0x217)](_0x31fbf9=>{const _0x4bc064=_0x4257ed;return _0x31fbf9['ui'][_0x4bc064(0x17c)]['ng']={},_0x31fbf9;});const _0x365768=datamodelFolder+'dmPackages/'+_0x304b22['id']+_0x4257ed(0x222);try{fs['readFile'](_0x365768,{'encoding':_0x4257ed(0x255)},(_0x4f99bf,_0x3d2c79)=>{const _0x209935=_0x4257ed;if(_0x4f99bf)throw _0x4f99bf;const _0x12c1e1=JSON['parse'](_0x3d2c79),_0x3e233b=_[_0x209935(0x1ed)](_0x12c1e1,[_0x209935(0x1cb),_0x209935(0x24d)]);!_[_0x209935(0x16a)](_0x3e233b,_0x4cb608)&&(_0x4cb608[_0x209935(0x1cb)]=Date[_0x209935(0x26a)](),_0x4cb608['timestampHuman']=new Date()['toISOString'](),fs[_0x209935(0x20d)](_0x365768,JSON['stringify'](_0x4cb608,null,'\x09'),{'encoding':_0x209935(0x255)}));});}catch(_0x42be0c){console[_0x4257ed(0x1f5)](_0x42be0c);}}),fs[_0x14aed0(0x20d)](datamodelFolder+_0x14aed0(0x1af),JSON[_0x14aed0(0x209)](_0x2a3849[_0x14aed0(0x19e)],null,'\x09'),{'encoding':_0x14aed0(0x255)}),_0x1838a5[_0x14aed0(0x221)](0xc8)[_0x14aed0(0x1c2)](!![]);});},'updateNodesStateConfig':async(_0x50b73f,_0x50ab7d,_0x2e46f6)=>{const _0x22ad97=_0x3f3011,{nodetype:_0x146fce}=_0x50b73f['params'];try{const _0x314da1=await plmStandardsCypher[_0x22ad97(0x1ab)](_0x146fce),{data:_0x5b34d5,code:_0x1c4d22}=_0x314da1;return _0x50ab7d[_0x22ad97(0x221)](_0x1c4d22)[_0x22ad97(0x1c2)](_0x5b34d5);}catch(_0x5757bf){_0x5757bf['title']=_0x22ad97(0x16d),_0x2e46f6(_0x5757bf);}},'updatePermisionGlobal':async(_0x587322,_0xae2bbe,_0x10ddae)=>{const _0x1e6c80=_0x3f3011,{nodetype:_0x5edc01}=_0x587322['params'],{user:_0x467b5a}=_0x587322;await plmStandardsCypher['updatePermissionGlobal'](_0x467b5a,_0x5edc01)[_0x1e6c80(0x1cc)](({data:_0x10b574,code:_0x300d5c})=>{const _0x9f1ee3=_0x1e6c80;return _0xae2bbe['status'](_0x300d5c)[_0x9f1ee3(0x1c2)](_0x10b574);})['catch'](_0x263fda=>{_0x263fda['title']='Update\x20Permission\x20Global',_0x10ddae(_0x263fda);});},'updateCodificationCounter':async(_0x4d2481,_0x40511c)=>{const _0x315080=_0x3f3011,{nodetype:_0xdc84a0}=_0x4d2481[_0x315080(0x219)],{counter:_0xb77afb}=_0x4d2481[_0x315080(0x24a)],_0x5a8d5e=_0x315080(0x1fa)+_0xdc84a0+_0x315080(0x18f)+_0xb77afb+_0x315080(0x22d),_0xa79541=driver['session'](),_0x577e88=await _0xa79541[_0x315080(0x223)](_0x5a8d5e)[_0x315080(0x25f)](_0x47ba43=>{const _0x3711a7=_0x315080;return _0xa79541[_0x3711a7(0x204)](),logAndReturn(_0x3711a7(0x1e0),!![],_0x40511c,0x1f4,_0x3711a7(0x1c8),_0x3711a7(0x23d),_0x47ba43[_0x3711a7(0x1ec)],_0x5a8d5e,_0x47ba43);})['finally'](()=>_0xa79541[_0x315080(0x204)]()),_0x276800=_0x577e88[_0x315080(0x178)][0x0][_0x315080(0x18d)](_0x315080(0x20a));return _0x40511c[_0x315080(0x221)](0xc8)['send'](_0x276800[_0x315080(0x258)]);}};