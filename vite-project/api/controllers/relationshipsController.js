const _0x597028=_0x2c6c;(function(_0x17f6c0,_0x4b47bf){const _0x24a3bb=_0x2c6c,_0x14fa8f=_0x17f6c0();while(!![]){try{const _0x19ef84=-parseInt(_0x24a3bb(0x14e))/0x1+parseInt(_0x24a3bb(0x144))/0x2+parseInt(_0x24a3bb(0x163))/0x3+-parseInt(_0x24a3bb(0x15a))/0x4+parseInt(_0x24a3bb(0x164))/0x5*(-parseInt(_0x24a3bb(0x14a))/0x6)+parseInt(_0x24a3bb(0x14c))/0x7*(-parseInt(_0x24a3bb(0x159))/0x8)+parseInt(_0x24a3bb(0x156))/0x9;if(_0x19ef84===_0x4b47bf)break;else _0x14fa8f['push'](_0x14fa8f['shift']());}catch(_0xe4c4a8){_0x14fa8f['push'](_0x14fa8f['shift']());}}}(_0x3b2b,0x6da71));const DataService=require(_0x597028(0x146)),{ganisterError}=require('../utils/errors');module[_0x597028(0x153)]={'getAllRelationships':async(_0x36d706,_0x292eab,_0x56fa8d)=>{const _0x4a9e78=_0x597028,{user:_0x1e1eaa,node:_0xa23f9,errors:errors=[]}=_0x36d706;try{if(_0xa23f9[_0x4a9e78(0x151)]==='PermissionSet')throw ganisterError(_0x4a9e78(0x162),0x190);const _0x2df25e={'user':_0x1e1eaa,'node':_0xa23f9},_0x2bd1df=await DataService[_0x4a9e78(0x14f)](_0x4a9e78(0x157),_0x2df25e);return _0x2bd1df['errors']=[..._0x2bd1df[_0x4a9e78(0x158)],...errors],_0x292eab[_0x4a9e78(0x140)](0xc8)[_0x4a9e78(0x149)](_0x2bd1df);}catch(_0x55d29c){_0x55d29c[_0x4a9e78(0x155)]=__('Cannot\x20Get\x20Relationships'),_0x56fa8d(_0x55d29c);}},'getRelationships':async(_0x48fc4e,_0x4d20e8,_0x3a9b98)=>{const _0x43e092=_0x597028,{user:_0x592bac,node:_0x4b8b82,errors:errors=[]}=_0x48fc4e,{nodetype:_0x4656da,relationshipName:relationshipName=_0x43e092(0x157)}=_0x48fc4e[_0x43e092(0x15b)],{searchType:_0x3cdef9,searchDate:_0x25da3,relationships:_0x1f748f}=_0x48fc4e[_0x43e092(0x152)],{recursive:_0x4e8bba,reverse:_0x4c63cb}=_0x48fc4e[_0x43e092(0x143)];try{const _0x1e948c=await DataService[_0x43e092(0x148)]({'_type':_0x4656da}),_0x1b16df={'user':_0x592bac,'node':_0x4b8b82||_0x1e948c,'searchType':_0x3cdef9,'searchDate':_0x25da3,'relationships':_0x1f748f,'recursive':_0x4e8bba===_0x43e092(0x14d),'reverse':_0x4c63cb===_0x43e092(0x14d)},_0x28cf81=await DataService['all'](relationshipName,_0x1b16df);_0x28cf81[_0x43e092(0x158)]=[..._0x28cf81[_0x43e092(0x158)],...errors];if(relationshipName===_0x43e092(0x147))return _0x48fc4e['relationships']=_0x28cf81[_0x43e092(0x145)],_0x48fc4e[_0x43e092(0x158)]=_0x28cf81['errors'],_0x3a9b98();return _0x4d20e8[_0x43e092(0x140)](0xc8)[_0x43e092(0x149)](_0x28cf81);}catch(_0x247d71){_0x247d71[_0x43e092(0x155)]=__(_0x43e092(0x142)),_0x3a9b98(_0x247d71);}},'addRelationship':async(_0x20bfb6,_0x4e0564,_0x40d0c3)=>{const _0xc8e81c=_0x597028,{node:_0x11c066,user:_0x5ad7a6,errors:_0x59f1c1}=_0x20bfb6,{relationshipName:_0x4fc7a2}=_0x20bfb6[_0xc8e81c(0x15b)],{target:target={},properties:properties={}}=_0x20bfb6[_0xc8e81c(0x152)];try{target['user']=_0x5ad7a6;const _0x3b3692=await DataService['find'](target),_0x51c134=_0x3b3692['data'],_0x2ce224={'_type':_0x4fc7a2,'source':_0x11c066,'target':_0x51c134,'properties':properties,'user':_0x5ad7a6},_0x4e4ccb=await DataService[_0xc8e81c(0x148)](_0x2ce224),_0x261bf0=await DataService[_0xc8e81c(0x13f)](_0x4e4ccb);_0x261bf0['errors']=[..._0x59f1c1,..._0x3b3692[_0xc8e81c(0x158)],..._0x261bf0[_0xc8e81c(0x158)]];const {linkName:_0x9da0f5}=_0x4e4ccb[_0xc8e81c(0x15d)]||{},_0x300124=[_0xc8e81c(0x160),'accessRole'],_0x4f8ee7=_0x300124[_0xc8e81c(0x14b)](_0x9da0f5);return _0x4f8ee7&&(global['nodetypeCreationChange']=!![]),_0x4e0564['status'](0xc8)['send'](_0x261bf0);}catch(_0x3bede8){_0x3bede8[_0xc8e81c(0x155)]=__(_0xc8e81c(0x150)),_0x40d0c3(_0x3bede8);}},'updateRelationship':async(_0x394960,_0x4c5225,_0x35acb0)=>{const _0x41adc8=_0x597028,{relationship:_0x4b73d1,errors:_0x1f4989}=_0x394960,{properties:properties={}}=_0x394960[_0x41adc8(0x152)];try{Object[_0x41adc8(0x15e)](_0x4b73d1[_0x41adc8(0x154)],properties);const _0x13d392=await DataService['save'](_0x4b73d1);_0x13d392[_0x41adc8(0x158)]=[..._0x13d392[_0x41adc8(0x158)],..._0x1f4989];const {linkName:_0x7acf2f}=_0x4b73d1[_0x41adc8(0x15d)]||{},_0x466578=['isMemberOf','accessRole'],_0x130dff=_0x466578[_0x41adc8(0x14b)](_0x7acf2f);return _0x130dff&&(global[_0x41adc8(0x141)]=!![]),_0x4c5225[_0x41adc8(0x140)](0xc8)[_0x41adc8(0x149)](_0x13d392);}catch(_0x5955d9){_0x5955d9[_0x41adc8(0x155)]=__(_0x41adc8(0x15f)),_0x35acb0(_0x5955d9);}},'deleteRelationship':async(_0x4bdb96,_0x29bc34,_0x3ff5ac)=>{const _0xcab572=_0x597028,{relationship:_0x46f3f6}=_0x4bdb96;try{const _0xb7da7c=await DataService[_0xcab572(0x161)](_0x46f3f6),{linkName:_0x44d0a5}=_0x46f3f6[_0xcab572(0x15d)]||{},_0xbbc0b6=['isMemberOf','accessRole'],_0x53f5c0=_0xbbc0b6[_0xcab572(0x14b)](_0x44d0a5);return _0x53f5c0&&(global[_0xcab572(0x141)]=!![]),_0x29bc34['status'](0xc8)['send'](_0xb7da7c);}catch(_0x368e67){_0x368e67[_0xcab572(0x155)]=__(_0xcab572(0x15c)),_0x3ff5ac(_0x368e67);}}};function _0x2c6c(_0x5ee118,_0x278d82){const _0x3b2b4b=_0x3b2b();return _0x2c6c=function(_0x2c6caf,_0xc93abf){_0x2c6caf=_0x2c6caf-0x13f;let _0x280167=_0x3b2b4b[_0x2c6caf];return _0x280167;},_0x2c6c(_0x5ee118,_0x278d82);}function _0x3b2b(){const _0x31c820=['true','583183vADgKq','all','Cannot\x20Add\x20Relationship','_type','body','exports','properties','title','22699341WosZIt','Relationship','errors','249848svFMym','3491612AftTRv','params','Cannot\x20Delete\x20Relationships','datamodel','assign','Cannot\x20Update\x20Relationship','isMemberOf','delete','Unavailable\x20for\x20\x27PermissionSet\x27\x20nodes','491886ofbSEi','32995xvUrbM','save','status','nodetypeCreationChange','Cannot\x20Get\x20Relationships','query','979168gQlFgJ','data','../modules/dataService','lifecycleRole','new','send','786imMgVu','includes','91uWKRmm'];_0x3b2b=function(){return _0x31c820;};return _0x3b2b();}