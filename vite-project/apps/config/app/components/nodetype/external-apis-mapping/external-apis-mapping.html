<div ng-controller="externalAPIsMappingController">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Enable/Disable APIs</h3>
    </div>
    <div class="panel-body">
      <div class="row">
        <div ng-repeat="externalAPI in nodetypeExternalAPIs| orderBy:'name'" class="col-md-3 col-sm-6  col-xs-12">
          <div class="col-xs-6 col-md-6">
            <img ng-src="images/externalApis/{{externalAPI.img}}" class="thumbnail" alt="{{externalAPI.name}}">
          </div>
          <div class="col-xs-6 col-md-6">

            <label style="text-align: center;" ng-if="nodetype.elementType === 'node'" class="col-md-12 control-label"
              for="serializableswitch">{{externalAPI.name}}</label>

            <div class=" material-switch col-md-12">
              <input ng-change="updateExternalAPI(externalAPI)" id="myonoffswitch-{{externalAPI.name}}"
                name="serializableswitch" type="checkbox" ng-model="externalAPI.enabled" />
              <label for="myonoffswitch-{{externalAPI.name}}" class="label-success"></label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Select API to configure mapping</h3>
    </div>
    <div class="panel-body">
      <select class="form-control" style="margin-bottom: 16px;" ng-model="selectedAPI" ng-change="onAPIChange()"
        ng-options="opt as opt.name for opt in nodetypeExternalAPIs | orderBy:'name'">
      </select>
      <div ng-show="selectedAPI" ag-grid="externalAPIsGridOptions" class="ag-theme-balham"></div>
    </div>
    <div class="panel-footer" ng-hide="!selectedAPI">
      <div class="alert alert-info" role="alert">
        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
        {{selectedAPI.info}}
      </div>

    </div>
  </div>
</div>